(self.webpackChunkweb=self.webpackChunkweb||[]).push([[675],{75958:function(e,r,t){"use strict";var a=t(27378),n=t(74857),l=function(e){if(e)return e.replace(/:\d{2}\.\d{3}\w/,"")},s=function(e){var r,t,s,i,o,u,d,c;return a.createElement("div",{className:"rw-form-wrapper"},a.createElement(n.Form,{onSubmit:function(r){var t;e.onSave(r,null==e||null===(t=e.event)||void 0===t?void 0:t.id)},error:e.error},a.createElement(n.FormError,{error:e.error,wrapperClassName:"rw-form-error-wrapper",titleClassName:"rw-form-error-title",listClassName:"rw-form-error-list"}),a.createElement(n.Label,{name:"label",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Label"),a.createElement(n.TextField,{name:"label",defaultValue:null===(r=e.event)||void 0===r?void 0:r.label,className:"rw-input",errorClassName:"rw-input rw-input-error"}),a.createElement(n.FieldError,{name:"label",className:"rw-field-error"}),a.createElement(n.Label,{name:"date",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Date"),a.createElement(n.DatetimeLocalField,{name:"date",defaultValue:l(null===(t=e.event)||void 0===t?void 0:t.date),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(n.FieldError,{name:"date",className:"rw-field-error"}),a.createElement(n.Label,{name:"start",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Start"),a.createElement(n.DatetimeLocalField,{name:"start",defaultValue:l(null===(s=e.event)||void 0===s?void 0:s.start),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(n.FieldError,{name:"start",className:"rw-field-error"}),a.createElement(n.Label,{name:"end",className:"rw-label",errorClassName:"rw-label rw-label-error"},"End"),a.createElement(n.DatetimeLocalField,{name:"end",defaultValue:l(null===(i=e.event)||void 0===i?void 0:i.end),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(n.FieldError,{name:"end",className:"rw-field-error"}),a.createElement(n.Label,{name:"passenger",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Passenger"),a.createElement(n.CheckboxField,{name:"passenger",defaultChecked:null===(o=e.event)||void 0===o?void 0:o.passenger,className:"rw-input",errorClassName:"rw-input rw-input-error"}),a.createElement(n.FieldError,{name:"passenger",className:"rw-field-error"}),a.createElement(n.Label,{name:"likelihood",className:"rw-label",errorClassName:"rw-label rw-label-error"},"likelihood"),a.createElement(n.NumberField,{name:"likelihood",defaultValue:null===(u=e.event)||void 0===u?void 0:u.likelihood,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(n.FieldError,{name:"likelihood",className:"rw-field-error"}),a.createElement(n.Label,{name:"active",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Active"),a.createElement(n.CheckboxField,{name:"active",defaultChecked:null===(d=e.event)||void 0===d?void 0:d.active,className:"rw-input",errorClassName:"rw-input rw-input-error"}),a.createElement(n.FieldError,{name:"active",className:"rw-field-error"}),a.createElement(n.Label,{name:"locationId",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Location id"),a.createElement(n.NumberField,{name:"locationId",defaultValue:null===(c=e.event)||void 0===c?void 0:c.locationId,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(n.FieldError,{name:"locationId",className:"rw-field-error"}),a.createElement("div",{className:"rw-button-group"},a.createElement(n.Submit,{disabled:e.loading,className:"rw-button rw-button-blue"},"Save"))))};r.Z=s;try{s.displayName="EventForm",s.__docgenInfo={description:"",displayName:"EventForm",props:{event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:'{ __typename?: "Event"; id: number; createdAt: string; updatedAt: string; label?: string; date: string; start: string; end: string; passenger: boolean; likelihood: number; active: boolean; locationId: number; }'}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(data: UpdateEventInput, id?: number) => void"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"RWGqlError"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Event/EventForm/EventForm.tsx#EventForm"]={docgenInfo:s.__docgenInfo,name:"EventForm",path:"src/components/Event/EventForm/EventForm.tsx#EventForm"})}catch(e){}},71675:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var a,n,l=t(27378),s=(t(95988),t(60740),t(31786)),i=t(27001),o=t(56423),u=t(81006),d=t(75958);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function m(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var f=(0,i.ZP)(a||(a=m(["\n  query EditEventById($id: Int!) {\n    event: event(id: $id) {\n      id\n      createdAt\n      updatedAt\n      label\n      date\n      start\n      end\n      passenger\n      likelihood\n      active\n      locationId\n    }\n  }\n"]))),p=(0,i.ZP)(n||(n=m(["\n  mutation UpdateEventMutation($id: Int!, $input: UpdateEventInput!) {\n    updateEvent(id: $id, input: $input) {\n      id\n      createdAt\n      updatedAt\n      label\n      date\n      start\n      end\n      passenger\n      likelihood\n      active\n      locationId\n    }\n  }\n"]))),y=function(e){var r=e.error;return l.createElement("div",{className:"rw-cell-error"},null==r?void 0:r.message)},v=function(e){var r,t,a=e.event,n=(0,s.useMutation)(p,{onCompleted:function(){u.toast.success("Event updated"),(0,o.navigate)(o.routes.events())},onError:function(e){u.toast.error(e.message)}}),i=(t=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,n,l,s,i=[],o=!0,u=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(a=l.call(t)).done)&&(i.push(a.value),i.length!==r);o=!0);}catch(e){u=!0,n=e}finally{try{if(!o&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw n}}return i}}(r,t)||function(e,r){if(e){if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=i[0],f=i[1],y=f.loading,v=f.error;return l.createElement("div",{className:"rw-segment"},l.createElement("header",{className:"rw-segment-header"},l.createElement("h2",{className:"rw-heading rw-heading-secondary"},"Edit Event ",null==a?void 0:a.id)),l.createElement("div",{className:"rw-segment-main"},l.createElement(d.Z,{event:a,onSave:function(e,r){m({variables:{id:r,input:e}})},error:v,loading:y})))},g=(0,s.createCell)({QUERY:f,Loading:function(){return l.createElement("div",null,"Loading...")},Failure:y,Success:v,displayName:"EditEventCell"});try{y.displayName="Failure",y.__docgenInfo={description:"",displayName:"Failure",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"any"}},errorCode:{defaultValue:null,description:"@see {@link https://www.apollographql.com/docs/apollo-server/data/errors/#error-codes}",name:"errorCode",required:!1,type:{name:"string"}},updating:{defaultValue:null,description:"",name:"updating",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Event/EditEventCell/EditEventCell.tsx#Failure"]={docgenInfo:y.__docgenInfo,name:"Failure",path:"src/components/Event/EditEventCell/EditEventCell.tsx#Failure"})}catch(e){}try{v.displayName="Success",v.__docgenInfo={description:"",displayName:"Success",props:{updating:{defaultValue:null,description:"",name:"updating",required:!1,type:{name:"boolean"}},event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:'{ __typename?: "Event"; id: number; createdAt: string; updatedAt: string; label?: string; date: string; start: string; end: string; passenger: boolean; likelihood: number; active: boolean; locationId: number; }'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Event/EditEventCell/EditEventCell.tsx#Success"]={docgenInfo:v.__docgenInfo,name:"Success",path:"src/components/Event/EditEventCell/EditEventCell.tsx#Success"})}catch(e){}var h=function(e){var r=e.id;return l.createElement(g,{id:r})},b=h;try{h.displayName="EditEventPage",h.__docgenInfo={description:"",displayName:"EditEventPage",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/Event/EditEventPage/EditEventPage.tsx#EditEventPage"]={docgenInfo:h.__docgenInfo,name:"EditEventPage",path:"src/pages/Event/EditEventPage/EditEventPage.tsx#EditEventPage"})}catch(e){}},58939:function(e,r,t){"use strict";var a=t(9131),n=t(4289).default;a(r,"__esModule",{value:!0}),r.default=void 0;var l=n(t(27378)),s=n(t(27085)),i=n(t(91496)),o=n(t(98108)),u=n(t(73749)),d=n(t(86506));r.default=e=>{var r;let{error:t,wrapperClassName:a,wrapperStyle:n,titleClassName:c,titleStyle:m,listClassName:f,listStyle:p,listItemClassName:y,listItemStyle:v}=e;if(!t)return null;let g=t.message;const h=[],b=!(null===(r=t.graphQLErrors)||void 0===r||!r[0]),F=!!t.networkError&&(0,s.default)(t.networkError).length>0;if(b){var E,A,w,_;g=null!==(E=t.graphQLErrors[0].message)&&void 0!==E?E:"Something went wrong","BAD_USER_INPUT"===(null===(A=t.graphQLErrors[0])||void 0===A||null===(w=A.extensions)||void 0===w?void 0:w.code)&&(g="Errors prevented this form from being saved");const e=null===(_=t.graphQLErrors[0].extensions)||void 0===_?void 0:_.properties,r=e&&e.messages;if(r)for(const e in r){var S;(0,i.default)(S=r[e]).call(S,(e=>{h.push(e)}))}}else if(F){var N;if(g=null!==(N=g)&&void 0!==N?N:"An error has occurred",Object.prototype.hasOwnProperty.call(t.networkError,"bodyText")){var x;const e=t.networkError;h.push((0,o.default)(x="".concat(e.name,": ")).call(x,e.bodyText))}else if(Object.prototype.hasOwnProperty.call(t.networkError,"result")){var C;null===(C=t.networkError.result.errors)||void 0===C||(0,i.default)(C).call(C,(e=>{var r,t;"string"==typeof e.message&&((0,u.default)(r=e.message).call(r,";")>=0?h.push(null===(t=e.message)||void 0===t?void 0:t.split(";")[1]):h.push(e.message))}))}}return g?l.default.createElement("div",{className:a,style:n},l.default.createElement("p",{className:c,style:m},g),h.length>0&&l.default.createElement("ul",{className:f,style:p},(0,d.default)(h).call(h,((e,r)=>l.default.createElement("li",{key:r,className:y,style:v},e))))):null}},74857:function(e,r,t){"use strict";var a,n=t(9131),l=t(91496),s=t(27085),i=t(31550).default,o=t(4289).default;n(r,"__esModule",{value:!0});var u={CheckboxField:!0,ButtonField:!0,ColorField:!0,DateField:!0,DatetimeLocalField:!0,EmailField:!0,FileField:!0,HiddenField:!0,ImageField:!0,MonthField:!0,NumberField:!0,PasswordField:!0,RadioField:!0,RangeField:!0,ResetField:!0,SearchField:!0,SubmitField:!0,TelField:!0,TextField:!0,TimeField:!0,UrlField:!0,WeekField:!0,Form:!0,ServerErrorsContext:!0,FieldError:!0,InputField:!0,Label:!0,TextAreaField:!0,SelectField:!0,Submit:!0,useErrorStyles:!0,useRegister:!0,FormError:!0};r.Form=r.FileField=r.FieldError=r.EmailField=r.DatetimeLocalField=r.DateField=r.ColorField=r.CheckboxField=r.ButtonField=void 0,n(r,"FormError",{enumerable:!0,get:function(){return v.default}}),r.useRegister=r.useErrorStyles=r.WeekField=r.UrlField=r.TimeField=r.TextField=r.TextAreaField=r.TelField=r.SubmitField=r.Submit=r.ServerErrorsContext=r.SelectField=r.SearchField=r.ResetField=r.RangeField=r.RadioField=r.PasswordField=r.NumberField=r.MonthField=r.Label=r.InputField=r.ImageField=r.HiddenField=void 0;var d=o(t(98108)),c=o(t(91496)),m=o(t(56666)),f=i(t(27378)),p=o(t(35131)),y=t(42192);l(a=s(y)).call(a,(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(u,e)||e in r&&r[e]===y[e]||n(r,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=o(t(58939));const g=e=>{let{name:r,errorClassName:t,errorStyle:a,className:n,style:l}=e;const{formState:{errors:s},setError:i}=(0,y.useFormContext)(),o=(0,f.useContext)(A)[r];return f.default.useEffect((()=>{o&&i(r,{type:"server",message:o})}),[o,r,i]),(r?(0,y.get)(s,r):void 0)&&(t&&(n=t),a&&(l=a)),{className:n,style:l}};r.useErrorStyles=g;const h=e=>""===e,b={valueAsDate:{emptyAsNull:e=>h(e)?null:new Date(e),emptyAsUndefined:e=>h(e)?void 0:new Date(e),emptyAsString:e=>h(e)?"":new Date(e),emptyAsZero:e=>h(e)?0:new Date(e)},valueAsJSON:{emptyAsNull:e=>{if(h(e))return null;try{return JSON.parse(e)}catch(e){return NaN}},emptyAsString:e=>{if(h(e))return"";try{return JSON.parse(e)}catch(e){return NaN}},emptyAsUndefined:e=>{if(!h(e))try{return JSON.parse(e)}catch(e){return NaN}},emptyAsZero:e=>{if(h(e))return 0;try{return JSON.parse(e)}catch(e){return NaN}}},valueAsNumber:{emptyAsNull:e=>h(e)?null:+e,emptyAsUndefined:e=>h(e)?void 0:+e,emptyAsNaN:e=>h(e)?NaN:+e,emptyAsString:e=>h(e)?"":+e,emptyAsZero:e=>h(e)?0:+e},valueAsString:{emptyAsNull:e=>h(e)?null:e,emptyAsUndefined:e=>h(e)?void 0:e,emptyAsString:e=>h(e)?"":e,emptyAsZero:e=>h(e)?0:e}},F=e=>"number"!=typeof e||!isNaN(e),E=(e,r,t)=>{const{register:a}=(0,y.useFormContext)(),n=e.validation||{required:!1};((e,r)=>{let t,{type:a,name:n,emptyAs:l}=r;e.setValueAs||e.valueAsBoolean||"checkbox"===a||(e.valueAsJSON?(e.validate=F,delete e.valueAsJSON,t="valueAsJSON"):t="date"===a||"datetime-local"===a||e.valueAsDate?"valueAsDate":"number"===a||e.valueAsNumber?"valueAsNumber":"valueAsString",e.setValueAs=((e,r,t,a)=>{const n=b[e];if(void 0===n)throw Error("Type ".concat(e," is unsupported."));let l;switch(r){case null:l=n.emptyAsNull;break;case"undefined":l=n.emptyAsUndefined;break;case 0:l=n.emptyAsZero;break;case"":l=n.emptyAsString;break;default:if(t||a)l=n.emptyAsNull;else switch(e){case"valueAsNumber":l=n.emptyAsNaN;break;case"valueAsDate":case"valueAsJSON":l=n.emptyAsNull;break;case"valueAsString":l=n.emptyAsString}}return void 0===l&&console.error("emptyAs prop of ".concat(r," is unsupported for this type.")),l})(t,l,void 0!==e.required&&!1!==e.required,/Id$/.test(n||"")))})(n,{type:e.type,name:e.name,emptyAs:t});const{ref:l,onBlur:s,onChange:i,...o}=a(e.name,n);return{...o,ref:e=>{l(e),"function"==typeof r?r(e):r&&(r.current=e)},onBlur:r=>{var t;s(r),null===(t=e.onBlur)||void 0===t||t.call(e,r)},onChange:r=>{var t;i(r),null===(t=e.onChange)||void 0===t||t.call(e,r)}}};r.useRegister=E;const A=f.default.createContext({});function w(e,r){var t,a,n,l;let{config:s,error:i,formMethods:o,onSubmit:u,children:d,...c}=e;const p=(0,y.useForm)(s),v=o||p;return f.default.createElement("form",(0,m.default)({ref:r},c,{onSubmit:v.handleSubmit(((e,r)=>null==u?void 0:u(e,r)))}),f.default.createElement(A.Provider,{value:(null==i||null===(t=i.graphQLErrors)||void 0===t||null===(a=t[0])||void 0===a||null===(n=a.extensions)||void 0===n||null===(l=n.properties)||void 0===l?void 0:l.messages)||{}},f.default.createElement(y.FormProvider,v,d)))}r.ServerErrorsContext=A;const _=(0,f.forwardRef)(w);r.Form=_,r.Label=e=>{let{name:r,children:t,errorClassName:a,errorStyle:n,className:l,style:s,...i}=e;const o=g({name:r,errorClassName:a,errorStyle:n,className:l,style:s});return f.default.createElement("label",(0,m.default)({htmlFor:r},i,o),t||r)};const S={required:"is required",pattern:"is not formatted correctly",minLength:"is too short",maxLength:"is too long",min:"is too low",max:"is too high",validate:"is not valid"};r.FieldError=e=>{var r;let{name:t,...a}=e;const{formState:{errors:n}}=(0,y.useFormContext)(),l=(0,y.get)(n,t),s=l&&(l.message||(0,d.default)(r="".concat(t," ")).call(r,S[l.type]));return l?f.default.createElement("span",a,s):null};const N=(0,f.forwardRef)(((e,r)=>{let{name:t,id:a,emptyAs:n,errorClassName:l,errorStyle:s,className:i,style:o,validation:u,onBlur:d,onChange:c,...p}=e;const y=g({name:t,errorClassName:l,errorStyle:s,className:i,style:o}),v=E({name:t,validation:u,onBlur:d,onChange:c},r,n);return f.default.createElement("textarea",(0,m.default)({id:a||t},p,y,v))}));r.TextAreaField=N;const x=(0,f.forwardRef)(((e,r)=>{let{name:t,id:a,emptyAs:n,errorClassName:l,errorStyle:s,className:i,style:o,validation:u,onBlur:d,onChange:c,...p}=e;const y=g({name:t,errorClassName:l,errorStyle:s,className:i,style:o}),v=E({name:t,validation:u,onBlur:d,onChange:c},r,n);return f.default.createElement("select",(0,m.default)({id:a||t},p,y,v))}));r.SelectField=x;const C=(0,f.forwardRef)(((e,r)=>{let{name:t,id:a,errorClassName:n,errorStyle:l,className:s,style:i,validation:o,onBlur:u,onChange:d,...c}=e;const p=g({name:t,errorClassName:n,errorStyle:l,className:s,style:i}),y="checkbox",v=E({name:t,validation:o,onBlur:u,onChange:d,type:y},r);return f.default.createElement("input",(0,m.default)({id:a||t},c,{type:y},p,v))}));r.CheckboxField=C;const V=(0,f.forwardRef)(((e,r)=>f.default.createElement("button",(0,m.default)({ref:r,type:"submit"},e))));r.Submit=V;const k=["button","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],D=(0,f.forwardRef)(((e,r)=>{let{name:t,id:a,emptyAs:n,errorClassName:l,errorStyle:s,className:i,style:o,validation:u,onBlur:d,onChange:c,type:p,...y}=e;const v=g({name:t,errorClassName:l,errorStyle:s,className:i,style:o}),h=E({name:t,validation:u,onBlur:d,onChange:c,type:p},r,n);return f.default.createElement("input",(0,m.default)({id:a||t},y,{type:p},v,h))}));r.InputField=D;const O={};(0,c.default)(k).call(k,(e=>{O["".concat((0,p.default)(e),"Field")]=(0,f.forwardRef)(((r,t)=>f.default.createElement(D,(0,m.default)({ref:t,type:e},r))))}));const{ButtonField:T,ColorField:L,DateField:R,DatetimeLocalField:B,EmailField:I,FileField:j,HiddenField:U,ImageField:P,MonthField:q,NumberField:M,PasswordField:$,RadioField:W,RangeField:Z,ResetField:J,SearchField:Y,SubmitField:K,TelField:H,TextField:Q,TimeField:z,UrlField:G,WeekField:X}=O;r.WeekField=X,r.UrlField=G,r.TimeField=z,r.TextField=Q,r.TelField=H,r.SubmitField=K,r.SearchField=Y,r.ResetField=J,r.RangeField=Z,r.RadioField=W,r.PasswordField=$,r.NumberField=M,r.MonthField=q,r.ImageField=P,r.HiddenField=U,r.FileField=j,r.EmailField=I,r.DatetimeLocalField=B,r.DateField=R,r.ColorField=L,r.ButtonField=T},81006:function(e,r,t){e.exports=t(73487)},35131:function(e){e.exports=e=>{if(null==e)return"";if("function"!=typeof e.toString)return"";let r=e.toString().trim();if(""===r)return"";if(1===r.length)return r.toLocaleUpperCase();let t=r.match(/[a-zA-Z0-9]+/g);return t?t.map((e=>(e=>e[0].toLocaleUpperCase()+e.slice(1))(e))).join(""):r}},42192:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,n=(a=t(27378))&&"object"==typeof a&&"default"in a?a:{default:a},l=e=>"checkbox"===e.type,s=e=>e instanceof Date,i=e=>null==e;const o=e=>"object"==typeof e;var u=e=>!i(e)&&!Array.isArray(e)&&o(e)&&!s(e),d=e=>u(e)&&e.target?l(e.target)?e.target.checked:e.target.value:e,c=(e,r)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(r)),m=e=>Array.isArray(e)?e.filter(Boolean):[],f=e=>void 0===e,p=(e,r,t)=>{if(!r||!u(e))return t;const a=m(r.split(/[,[\].]+?/)).reduce(((e,r)=>i(e)?e:e[r]),e);return f(a)||a===e?f(e[r])?t:e[r]:a};const y="blur",v="onChange",g="onSubmit",h="all",b="pattern",F="required",E=n.default.createContext(null),A=()=>n.default.useContext(E);var w=(e,r,t,a=!0)=>{const n={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const n=l;return r._proxyFormState[n]!==h&&(r._proxyFormState[n]=!a||h),t&&(t[n]=!0),e[n]}});return n},_=e=>u(e)&&!Object.keys(e).length,S=(e,r,t)=>{const{name:a,...n}=e;return _(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find((e=>r[e]===(!t||h)))},N=e=>Array.isArray(e)?e:[e],x=(e,r,t)=>t&&r?e===r:!e||!r||e===r||N(e).some((e=>e&&(e.startsWith(r)||r.startsWith(e))));function C(e){const r=n.default.useRef(e);r.current=e,n.default.useEffect((()=>{const t=!e.disabled&&r.current.subject.subscribe({next:r.current.callback});return()=>{t&&t.unsubscribe()}}),[e.disabled])}function V(e){const r=A(),{control:t=r.control,disabled:a,name:l,exact:s}=e||{},[i,o]=n.default.useState(t._formState),u=n.default.useRef(!0),d=n.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=n.default.useRef(l);return c.current=l,C({disabled:a,callback:n.default.useCallback((e=>u.current&&x(c.current,e.name,s)&&S(e,d.current)&&o({...t._formState,...e})),[t,s]),subject:t._subjects.state}),n.default.useEffect((()=>(u.current=!0,()=>{u.current=!1})),[]),w(i,t,d.current,!1)}var k=e=>"string"==typeof e,D=(e,r,t,a)=>{const n=Array.isArray(e);return k(e)?(a&&r.watch.add(e),p(t,e)):n?e.map((e=>(a&&r.watch.add(e),p(t,e)))):(a&&(r.watchAll=!0),t)},O=e=>"function"==typeof e,T=e=>{for(const r in e)if(O(e[r]))return!0;return!1};function L(e){const r=A(),{control:t=r.control,name:a,defaultValue:l,disabled:s,exact:i}=e||{},o=n.default.useRef(a);o.current=a,C({disabled:s,subject:t._subjects.watch,callback:n.default.useCallback((e=>{if(x(o.current,e.name,i)){const r=D(o.current,t._names,e.values||t._formValues);c(f(o.current)||u(r)&&!T(r)?{...r}:Array.isArray(r)?[...r]:f(r)?l:r)}}),[t,i,l])});const[d,c]=n.default.useState(f(l)?t._getWatch(a):l);return n.default.useEffect((()=>t._removeUnmounted())),d}function R(e){const r=A(),{name:t,control:a=r.control,shouldUnregister:l}=e,s=c(a._names.array,t),i=L({control:a,name:t,defaultValue:p(a._formValues,t,p(a._defaultValues,t,e.defaultValue)),exact:!0}),o=V({control:a,name:t}),u=n.default.useRef(a.register(t,{...e.rules,value:i}));return n.default.useEffect((()=>{const e=(e,r)=>{const t=p(a._fields,e);t&&(t._f.mount=r)};return e(t,!0),()=>{const r=a._options.shouldUnregister||l;(s?r&&!a._stateFlags.action:r)?a.unregister(t):e(t,!1)}}),[t,a,s,l]),{field:{name:t,value:i,onChange:n.default.useCallback((e=>u.current.onChange({target:{value:d(e),name:t},type:"change"})),[t]),onBlur:n.default.useCallback((()=>u.current.onBlur({target:{value:p(a._formValues,t),name:t},type:y})),[t,a]),ref:e=>{const r=p(a._fields,t);r&&e&&(r._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:r=>e.setCustomValidity(r),reportValidity:()=>e.reportValidity()})}},formState:o,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!p(o.errors,t)},isDirty:{enumerable:!0,get:()=>!!p(o.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!p(o.touchedFields,t)},error:{enumerable:!0,get:()=>p(o.errors,t)}})}}var B=(e,r,t,a,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:n||!0}}:{},I=e=>/^\w*$/.test(e),j=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/));function U(e,r,t){let a=-1;const n=I(r)?[r]:j(r),l=n.length,s=l-1;for(;++a<l;){const r=n[a];let l=t;if(a!==s){const t=e[r];l=u(t)||Array.isArray(t)?t:isNaN(+n[a+1])?{}:[]}e[r]=l,e=e[r]}return e}const P=(e,r,t)=>{for(const a of t||Object.keys(e)){const t=p(e,a);if(t){const{_f:e,...a}=t;if(e&&r(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else u(a)&&P(a,r)}}};var q=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(r=>{const t=(16*Math.random()+e)%16|0;return("x"==r?t:3&t|8).toString(16)}))},M=(e,r,t={})=>t.shouldFocus||f(t.shouldFocus)?t.focusName||`${e}.${f(t.focusIndex)?r:t.focusIndex}.`:"",$=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some((r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))))),W=(e,r,t)=>{const a=m(p(e,t));return U(a,"root",r[t]),U(e,t,a),e},Z=e=>"boolean"==typeof e,J=e=>"file"===e.type,Y=e=>k(e)||n.default.isValidElement(e),K=e=>"radio"===e.type,H=e=>e instanceof RegExp;const Q={value:!1,isValid:!1},z={value:!0,isValid:!0};var G=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!f(e[0].attributes.value)?f(e[0].value)||""===e[0].value?z:{value:e[0].value,isValid:!0}:z:Q}return Q};const X={isValid:!1,value:null};var ee=e=>Array.isArray(e)?e.reduce(((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e),X):X;function re(e,r,t="validate"){if(Y(e)||Array.isArray(e)&&e.every(Y)||Z(e)&&!e)return{type:t,message:Y(e)?e:"",ref:r}}var te=e=>u(e)&&!H(e)?e:{value:e,message:""},ae=async(e,r,t,a,n)=>{const{ref:s,refs:o,required:d,maxLength:c,minLength:m,min:f,max:p,pattern:y,validate:v,name:g,valueAsNumber:h,mount:E,disabled:A}=e._f;if(!E||A)return{};const w=o?o[0]:s,S=e=>{a&&k(e)&&(w.setCustomValidity(e),w.reportValidity())},N={},x=K(s),C=l(s),V=x||C,D=(h||J(s))&&!s.value||""===r||Array.isArray(r)&&!r.length,T=B.bind(null,g,t,N),L=(e,r,t,a="maxLength",n="minLength")=>{const l=e?r:t;N[g]={type:e?a:n,message:l,ref:s,...T(e?a:n,l)}};if(n?!Array.isArray(r)||!r.length:d&&(!V&&(D||i(r))||Z(r)&&!r||C&&!G(o).isValid||x&&!ee(o).isValid)){const{value:e,message:r}=Y(d)?{value:!!d,message:d}:te(d);if(e&&(N[g]={type:F,message:r,ref:w,...T(F,r)},!t))return S(r),N}if(!(D||i(f)&&i(p))){let e,a;const n=te(p),l=te(f);if(i(r)||isNaN(r)){const t=s.valueAsDate||new Date(r),i=e=>new Date((new Date).toDateString()+" "+e),o="time"==s.type,u="week"==s.type;k(n.value)&&r&&(e=o?i(r)>i(n.value):u?r>n.value:t>new Date(n.value)),k(l.value)&&r&&(a=o?i(r)<i(l.value):u?r<l.value:t<new Date(l.value))}else{const t=s.valueAsNumber||(r?+r:r);i(n.value)||(e=t>n.value),i(l.value)||(a=t<l.value)}if((e||a)&&(L(!!e,n.message,l.message,"max","min"),!t))return S(N[g].message),N}if((c||m)&&!D&&(k(r)||n&&Array.isArray(r))){const e=te(c),a=te(m),n=!i(e.value)&&r.length>e.value,l=!i(a.value)&&r.length<a.value;if((n||l)&&(L(n,e.message,a.message),!t))return S(N[g].message),N}if(y&&!D&&k(r)){const{value:e,message:a}=te(y);if(H(e)&&!r.match(e)&&(N[g]={type:b,message:a,ref:s,...T(b,a)},!t))return S(a),N}if(v)if(O(v)){const e=re(await v(r),w);if(e&&(N[g]={...e,...T("validate",e.message)},!t))return S(e.message),N}else if(u(v)){let e={};for(const a in v){if(!_(e)&&!t)break;const n=re(await v[a](r),w,a);n&&(e={...n,...T(a,n.message)},S(n.message),t&&(N[g]=e))}if(!_(e)&&(N[g]={ref:w,...e},!t))return N}return S(!0),N};function ne(e,r){return[...e,...N(r)]}var le="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function se(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else{if(le&&(e instanceof Blob||e instanceof FileList)||!t&&!u(e))return e;if(r=t?[]:{},Array.isArray(e)||(e=>{const r=e.constructor&&e.constructor.prototype;return u(r)&&r.hasOwnProperty("isPrototypeOf")})(e))for(const t in e)r[t]=se(e[t]);else r=e}return r}var ie=e=>Array.isArray(e)?e.map((()=>{})):void 0,oe=e=>({isOnSubmit:!e||e===g,isOnBlur:"onBlur"===e,isOnChange:e===v,isOnAll:e===h,isOnTouch:"onTouched"===e});function ue(e,r,t){return[...e.slice(0,r),...N(t),...e.slice(r)]}var de=(e,r,t)=>Array.isArray(e)?(f(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[];function ce(e,r){return[...N(r),...N(e)]}var me=(e,r)=>f(r)?[]:function(e,r){let t=0;const a=[...e];for(const e of r)a.splice(e-t,1),t++;return m(a).length?a:[]}(e,N(r).sort(((e,r)=>e-r))),fe=(e,r,t)=>{e[r]=[e[t],e[t]=e[r]][0]};function pe(e){for(const r in e)if(!f(e[r]))return!1;return!0}function ye(e,r){const t=I(r)?[r]:j(r),a=1==t.length?e:function(e,r){const t=r.slice(0,-1).length;let a=0;for(;a<t;)e=f(e)?a++:e[r[a++]];return e}(e,t),n=t[t.length-1];let l;a&&delete a[n];for(let r=0;r<t.slice(0,-1).length;r++){let a,n=-1;const s=t.slice(0,-(r+1)),i=s.length-1;for(r>0&&(l=e);++n<s.length;){const r=s[n];a=a?a[r]:e[r],i===n&&(u(a)&&_(a)||Array.isArray(a)&&pe(a))&&(l?delete l[r]:delete e[r]),l=a}}return e}var ve=(e,r,t)=>(e[r]=t,e);function ge(){let e=[];return{get observers(){return e},next:r=>{for(const t of e)t.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter((e=>e!==r))}}),unsubscribe:()=>{e=[]}}}var he=e=>i(e)||!o(e);function be(e,r){if(he(e)||he(r))return e===r;if(s(e)&&s(r))return e.getTime()===r.getTime();const t=Object.keys(e),a=Object.keys(r);if(t.length!==a.length)return!1;for(const n of t){const t=e[n];if(!a.includes(n))return!1;if("ref"!==n){const e=r[n];if(s(t)&&s(e)||u(t)&&u(e)||Array.isArray(t)&&Array.isArray(e)?!be(t,e):t!==e)return!1}}return!0}var Fe=e=>{const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ee=e=>"select-multiple"===e.type,Ae=e=>Fe(e)&&e.isConnected;function we(e,r={}){const t=Array.isArray(e);if(u(e)||t)for(const t in e)Array.isArray(e[t])||u(e[t])&&!T(e[t])?(r[t]=Array.isArray(e[t])?[]:{},we(e[t],r[t])):i(e[t])||(r[t]=!0);return r}var _e=(e,r)=>function e(r,t,a){const n=Array.isArray(r);if(u(r)||n)for(const n in r)Array.isArray(r[n])||u(r[n])&&!T(r[n])?f(t)||he(a[n])?a[n]=Array.isArray(r[n])?we(r[n],[]):{...we(r[n])}:e(r[n],i(t)?{}:t[n],a[n]):be(r[n],t[n])?delete a[n]:a[n]=!0;return a}(e,r,we(r)),Se=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:a})=>f(e)?e:r?""===e?NaN:e?+e:e:t&&k(e)?new Date(e):a?a(e):e;function Ne(e){const r=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):r.disabled))return J(r)?r.files:K(r)?ee(e.refs).value:Ee(r)?[...r.selectedOptions].map((({value:e})=>e)):l(r)?G(e.refs).value:Se(f(r.value)?e.ref.value:r.value,e)}var xe=e=>f(e)?void 0:H(e)?e.source:u(e)?H(e.value)?e.value.source:e.value:e;function Ce(e,r,t){const a=p(e,t);if(a||I(t))return{error:a,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),l=p(r,a),s=p(e,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(s&&s.type)return{name:a,error:s};n.pop()}return{name:t}}const Ve={mode:g,reValidateMode:v,shouldFocusError:!0};function ke(e={}){let r,t={...Ve,...e},a={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},o=se(t.defaultValues)||{},u=t.shouldUnregister?{}:se(o),v={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b=0,F={};const E={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={watch:ge(),array:ge(),state:ge()},w=oe(t.mode),S=oe(t.reValidateMode),x=t.criteriaMode===h,C=async()=>{let e=!1;return E.isValid&&(e=t.resolver?_((await R()).errors):await B(n,!0),e!==a.isValid&&(a.isValid=e,A.state.next({isValid:e}))),e},V=(e,r,t,a)=>{const l=p(n,e);if(l){const n=p(u,e,f(t)?p(o,e):t);f(n)||a&&a.defaultChecked||r?U(u,e,r?n:Ne(l._f)):q(e,n),v.mount&&C()}},T=(e,r,t,n,l)=>{let s=!1;const i={name:e},u=p(a.touchedFields,e);if(E.isDirty){const e=a.isDirty;a.isDirty=i.isDirty=I(),s=e!==i.isDirty}if(E.dirtyFields&&(!t||n)){const t=p(a.dirtyFields,e);be(p(o,e),r)?ye(a.dirtyFields,e):U(a.dirtyFields,e,!0),i.dirtyFields=a.dirtyFields,s=s||t!==p(a.dirtyFields,e)}return t&&!u&&(U(a.touchedFields,e,t),i.touchedFields=a.touchedFields,s=s||E.touchedFields&&u!==t),s&&l&&A.state.next(i),s?i:{}},L=(t,n,l,s)=>{const i=p(a.errors,t),o=E.isValid&&Z(n)&&a.isValid!==n;var u;if(e.delayError&&l?(u=()=>((e,r)=>{U(a.errors,e,r),A.state.next({errors:a.errors})})(t,l),r=e=>{clearTimeout(b),b=window.setTimeout(u,e)},r(e.delayError)):(clearTimeout(b),r=null,l?U(a.errors,t,l):ye(a.errors,t)),(l?!be(i,l):i)||!_(s)||o){const e={...s,...o&&Z(n)?{isValid:n}:{},errors:a.errors,name:t};a={...a,...e},A.state.next(e)}F[t]--,E.isValidating&&!Object.values(F).some((e=>e))&&(A.state.next({isValidating:!1}),F={})},R=async e=>t.resolver?await t.resolver({...u},t.context,((e,r,t,a)=>{const n={};for(const t of e){const e=p(r,t);e&&U(n,t,e._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:a}})(e||g.mount,n,t.criteriaMode,t.shouldUseNativeValidation)):{},B=async(e,r,n={valid:!0})=>{for(const l in e){const s=e[l];if(s){const{_f:e,...l}=s;if(e){const l=g.array.has(e.name),i=await ae(s,p(u,e.name),x,t.shouldUseNativeValidation,l);if(i[e.name]&&(n.valid=!1,r))break;!r&&(p(i,e.name)?l?W(a.errors,i,e.name):U(a.errors,e.name,i[e.name]):ye(a.errors,e.name))}l&&await B(l,r,n)}}return n.valid},I=(e,r)=>(e&&r&&U(u,e,r),!be(z(),o)),j=(e,r,t)=>{const a={...v.mount?u:f(r)?o:k(e)?{[e]:r}:r};return D(e,g,a,t)},q=(e,r,t={})=>{const a=p(n,e);let s=r;if(a){const t=a._f;t&&(!t.disabled&&U(u,e,Se(r,t)),s=le&&Fe(t.ref)&&i(r)?"":r,Ee(t.ref)?[...t.ref.options].forEach((e=>e.selected=s.includes(e.value))):t.refs?l(t.ref)?t.refs.length>1?t.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find((r=>r===e.value)):s===e.value))):t.refs[0]&&(t.refs[0].checked=!!s):t.refs.forEach((e=>e.checked=e.value===s)):J(t.ref)?t.ref.value="":(t.ref.value=s,t.ref.type||A.watch.next({name:e})))}(t.shouldDirty||t.shouldTouch)&&T(e,s,t.shouldTouch,t.shouldDirty,!0),t.shouldValidate&&Q(e)},M=(e,r,t)=>{for(const a in r){const l=r[a],i=`${e}.${a}`,o=p(n,i);!g.array.has(e)&&he(l)&&(!o||o._f)||s(l)?q(i,l,t):M(i,l,t)}},Y=(e,r,t={})=>{const l=p(n,e),s=g.array.has(e),d=se(r);U(u,e,d),s?(A.array.next({name:e,values:u}),(E.isDirty||E.dirtyFields)&&t.shouldDirty&&(a.dirtyFields=_e(o,u),A.state.next({name:e,dirtyFields:a.dirtyFields,isDirty:I(e,d)}))):!l||l._f||i(d)?q(e,d,t):M(e,d,t),$(e,g)&&A.state.next({}),A.watch.next({name:e})},H=async e=>{const l=e.target;let s=l.name;const i=p(n,s);if(i){let c,m;const f=l.type?Ne(i._f):d(e),v=e.type===y||"focusout"===e.type,h=!((o=i._f).mount&&(o.required||o.min||o.max||o.maxLength||o.minLength||o.pattern||o.validate)||t.resolver||p(a.errors,s)||i._f.deps)||((e,r,t,a,n)=>!n.isOnAll&&(!t&&n.isOnTouch?!(r||e):(t?a.isOnBlur:n.isOnBlur)?!e:!(t?a.isOnChange:n.isOnChange)||e))(v,p(a.touchedFields,s),a.isSubmitted,S,w),b=$(s,g,v);U(u,s,f),v?(i._f.onBlur&&i._f.onBlur(e),r&&r(0)):i._f.onChange&&i._f.onChange(e);const N=T(s,f,v,!1),V=!_(N)||b;if(!v&&A.watch.next({name:s,type:e.type}),h)return E.isValid&&C(),V&&A.state.next({name:s,...b?{}:N});if(!v&&b&&A.state.next({}),F[s]=F[s]?F[s]+1:1,A.state.next({isValidating:!0}),t.resolver){const{errors:e}=await R([s]),r=Ce(a.errors,n,s),t=Ce(e,n,r.name||s);c=t.error,s=t.name,m=_(e)}else c=(await ae(i,p(u,s),x,t.shouldUseNativeValidation))[s],C();i._f.deps&&Q(i._f.deps),L(s,m,c,N)}var o},Q=async(e,r={})=>{let l,s;const i=N(e);if(A.state.next({isValidating:!0}),t.resolver){const r=await(async e=>{const{errors:r}=await R();if(e)for(const t of e){const e=p(r,t);e?U(a.errors,t,e):ye(a.errors,t)}else a.errors=r;return r})(f(e)?e:i);l=_(r),s=e?!i.some((e=>p(r,e))):l}else e?(s=(await Promise.all(i.map((async e=>{const r=p(n,e);return await B(r&&r._f?{[e]:r}:r)})))).every(Boolean),(s||a.isValid)&&C()):s=l=await B(n);return A.state.next({...!k(e)||E.isValid&&l!==a.isValid?{}:{name:e},...t.resolver||!e?{isValid:l}:{},errors:a.errors,isValidating:!1}),r.shouldFocus&&!s&&P(n,(e=>e&&p(a.errors,e)),e?i:g.mount),s},z=e=>{const r={...o,...v.mount?u:{}};return f(e)?r:k(e)?p(r,e):e.map((e=>p(r,e)))},G=(e,r)=>({invalid:!!p((r||a).errors,e),isDirty:!!p((r||a).dirtyFields,e),isTouched:!!p((r||a).touchedFields,e),error:p((r||a).errors,e)}),X=(e,r={})=>{for(const l of e?N(e):g.mount)g.mount.delete(l),g.array.delete(l),p(n,l)&&(r.keepValue||(ye(n,l),ye(u,l)),!r.keepError&&ye(a.errors,l),!r.keepDirty&&ye(a.dirtyFields,l),!r.keepTouched&&ye(a.touchedFields,l),!t.shouldUnregister&&!r.keepDefaultValue&&ye(o,l));A.watch.next({}),A.state.next({...a,...r.keepDirty?{isDirty:I()}:{}}),!r.keepIsValid&&C()},ee=(e,r={})=>{let a=p(n,e);const s=Z(r.disabled);return U(n,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...r}}),g.mount.add(e),a?s&&U(u,e,r.disabled?void 0:p(u,e,Ne(a._f))):V(e,!0,r.value),{...s?{disabled:r.disabled}:{},...t.shouldUseNativeValidation?{required:!!r.required,min:xe(r.min),max:xe(r.max),minLength:xe(r.minLength),maxLength:xe(r.maxLength),pattern:xe(r.pattern)}:{},name:e,onChange:H,onBlur:H,ref:s=>{if(s){ee(e,r),a=p(n,e);const t=f(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,i=(e=>K(e)||l(e))(t),u=a._f.refs||[];if(i?u.find((e=>e===t)):t===a._f.ref)return;U(n,e,{_f:{...a._f,...i?{refs:[...u.filter(Ae),t,...Array.isArray(p(o,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),V(e,!1,void 0,t)}else a=p(n,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!c(g.array,e)||!v.action)&&g.unMount.add(e)}}},re=()=>t.shouldFocusError&&P(n,(e=>e&&p(a.errors,e)),g.mount);return{control:{register:ee,unregister:X,getFieldState:G,_executeSchema:R,_focusError:re,_getWatch:j,_getDirty:I,_updateValid:C,_removeUnmounted:()=>{for(const e of g.unMount){const r=p(n,e);r&&(r._f.refs?r._f.refs.every((e=>!Ae(e))):!Ae(r._f.ref))&&X(e)}g.unMount=new Set},_updateFieldArray:(e,r=[],t,l,s=!0,i=!0)=>{if(l&&t){if(v.action=!0,i&&Array.isArray(p(n,e))){const r=t(p(n,e),l.argA,l.argB);s&&U(n,e,r)}if(E.errors&&i&&Array.isArray(p(a.errors,e))){const r=t(p(a.errors,e),l.argA,l.argB);s&&U(a.errors,e,r),((e,r)=>{!m(p(e,r)).length&&ye(e,r)})(a.errors,e)}if(E.touchedFields&&i&&Array.isArray(p(a.touchedFields,e))){const r=t(p(a.touchedFields,e),l.argA,l.argB);s&&U(a.touchedFields,e,r)}E.dirtyFields&&(a.dirtyFields=_e(o,u)),A.state.next({isDirty:I(e,r),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else U(u,e,r)},_getFieldArray:r=>m(p(v.mount?u:o,r,e.shouldUnregister?p(o,r,[]):[])),_subjects:A,_proxyFormState:E,get _fields(){return n},get _formValues(){return u},get _stateFlags(){return v},set _stateFlags(e){v=e},get _defaultValues(){return o},get _names(){return g},set _names(e){g=e},get _formState(){return a},set _formState(e){a=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:Q,register:ee,handleSubmit:(e,r)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let s=!0,i=se(u);A.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:e,values:r}=await R();a.errors=e,i=r}else await B(n);_(a.errors)?(A.state.next({errors:{},isSubmitting:!0}),await e(i,l)):(r&&await r({...a.errors},l),re())}catch(e){throw s=!1,e}finally{a.isSubmitted=!0,A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_(a.errors)&&s,submitCount:a.submitCount+1,errors:a.errors})}},watch:(e,r)=>O(e)?A.watch.subscribe({next:t=>e(j(void 0,r),t)}):j(e,r,!0),setValue:Y,getValues:z,reset:(r,t)=>((r,t={})=>{const l=r||o,s=se(l),i=r&&!_(r)?s:o;if(t.keepDefaultValues||(o=l),!t.keepValues){if(t.keepDirtyValues)for(const e of g.mount)p(a.dirtyFields,e)?U(i,e,p(u,e)):Y(e,p(i,e));else{if(le&&f(r))for(const e of g.mount){const r=p(n,e);if(r&&r._f){const e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(Fe(e)){const r=e.closest("form");if(r){r.reset();break}}}}n={}}u=e.shouldUnregister?t.keepDefaultValues?se(o):{}:s,A.array.next({values:i}),A.watch.next({values:i})}g={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},v.mount=!E.isValid||!!t.keepIsValid,v.watch=!!e.shouldUnregister,A.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:t.keepDirty||t.keepDirtyValues?a.isDirty:!(!t.keepDefaultValues||be(r,o)),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:t.keepDirty||t.keepDirtyValues?a.dirtyFields:t.keepDefaultValues&&r?_e(o,r):{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(O(r)?r(u):r,t),resetField:(e,r={})=>{p(n,e)&&(f(r.defaultValue)?Y(e,p(o,e)):(Y(e,r.defaultValue),U(o,e,r.defaultValue)),r.keepTouched||ye(a.touchedFields,e),r.keepDirty||(ye(a.dirtyFields,e),a.isDirty=r.defaultValue?I(e,p(o,e)):I()),r.keepError||(ye(a.errors,e),E.isValid&&C()),A.state.next({...a}))},clearErrors:e=>{e?N(e).forEach((e=>ye(a.errors,e))):a.errors={},A.state.next({errors:a.errors})},unregister:X,setError:(e,r,t)=>{const l=(p(n,e,{_f:{}})._f||{}).ref;U(a.errors,e,{...r,ref:l}),A.state.next({name:e,errors:a.errors,isValid:!1}),t&&t.shouldFocus&&l&&l.focus&&l.focus()},setFocus:(e,r={})=>{const t=p(n,e),a=t&&t._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),r.shouldSelect&&e.select())}},getFieldState:G}}r.Controller=e=>e.render(R(e)),r.FormProvider=e=>{const{children:r,...t}=e;return n.default.createElement(E.Provider,{value:t},r)},r.appendErrors=B,r.get=p,r.set=U,r.useController=R,r.useFieldArray=function(e){const r=A(),{control:t=r.control,name:a,keyName:l="id",shouldUnregister:s}=e,[i,o]=n.default.useState(t._getFieldArray(a)),u=n.default.useRef(t._getFieldArray(a).map(q)),d=n.default.useRef(i),c=n.default.useRef(a),m=n.default.useRef(!1);c.current=a,d.current=i,t._names.array.add(a),e.rules&&t.register(a,e.rules),C({callback:n.default.useCallback((({values:e,name:r})=>{if(r===c.current||!r){const r=p(e,c.current);Array.isArray(r)&&(o(r),u.current=r.map(q))}}),[]),subject:t._subjects.array});const f=n.default.useCallback((e=>{m.current=!0,t._updateFieldArray(a,e)}),[t,a]);return n.default.useEffect((()=>{if(t._stateFlags.action=!1,$(a,t._names)&&t._subjects.state.next({}),m.current&&(!oe(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([a]).then((e=>{const r=p(e.errors,a),n=p(t._formState.errors,a);(n?!r&&n.type:r&&r.type)&&(r?U(t._formState.errors,a,r):ye(t._formState.errors,a),t._subjects.state.next({errors:t._formState.errors}))}));else{const e=p(t._fields,a);e&&e._f&&ae(e,p(t._formValues,a),t._options.criteriaMode===h,t._options.shouldUseNativeValidation,!0).then((e=>!_(e)&&t._subjects.state.next({errors:W(t._formState.errors,e,a)})))}t._subjects.watch.next({name:a,values:t._formValues}),t._names.focus&&P(t._fields,(e=>!!e&&e.startsWith(t._names.focus))),t._names.focus="",t._proxyFormState.isValid&&t._updateValid()}),[i,a,t]),n.default.useEffect((()=>(!p(t._formValues,a)&&t._updateFieldArray(a),()=>{(t._options.shouldUnregister||s)&&t.unregister(a)})),[a,t,l,s]),{swap:n.default.useCallback(((e,r)=>{const n=t._getFieldArray(a);fe(n,e,r),fe(u.current,e,r),f(n),o(n),t._updateFieldArray(a,n,fe,{argA:e,argB:r},!1)}),[f,a,t]),move:n.default.useCallback(((e,r)=>{const n=t._getFieldArray(a);de(n,e,r),de(u.current,e,r),f(n),o(n),t._updateFieldArray(a,n,de,{argA:e,argB:r},!1)}),[f,a,t]),prepend:n.default.useCallback(((e,r)=>{const n=N(se(e)),l=ce(t._getFieldArray(a),n);t._names.focus=M(a,0,r),u.current=ce(u.current,n.map(q)),f(l),o(l),t._updateFieldArray(a,l,ce,{argA:ie(e)})}),[f,a,t]),append:n.default.useCallback(((e,r)=>{const n=N(se(e)),l=ne(t._getFieldArray(a),n);t._names.focus=M(a,l.length-1,r),u.current=ne(u.current,n.map(q)),f(l),o(l),t._updateFieldArray(a,l,ne,{argA:ie(e)})}),[f,a,t]),remove:n.default.useCallback((e=>{const r=me(t._getFieldArray(a),e);u.current=me(u.current,e),f(r),o(r),t._updateFieldArray(a,r,me,{argA:e})}),[f,a,t]),insert:n.default.useCallback(((e,r,n)=>{const l=N(se(r)),s=ue(t._getFieldArray(a),e,l);t._names.focus=M(a,e,n),u.current=ue(u.current,e,l.map(q)),f(s),o(s),t._updateFieldArray(a,s,ue,{argA:e,argB:ie(r)})}),[f,a,t]),update:n.default.useCallback(((e,r)=>{const n=se(r),l=ve(t._getFieldArray(a),e,n);u.current=[...l].map(((r,t)=>r&&t!==e?u.current[t]:q())),f(l),o([...l]),t._updateFieldArray(a,l,ve,{argA:e,argB:n},!0,!1)}),[f,a,t]),replace:n.default.useCallback((e=>{const r=N(se(e));u.current=r.map(q),f([...r]),o([...r]),t._updateFieldArray(a,[...r],(e=>e),{},!0,!1)}),[f,a,t]),fields:n.default.useMemo((()=>i.map(((e,r)=>({...e,[l]:u.current[r]||q()})))),[i,l])}},r.useForm=function(e={}){const r=n.default.useRef(),[t,a]=n.default.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});r.current||(r.current={...ke(e),formState:t});const l=r.current.control;return l._options=e,C({subject:l._subjects.state,callback:n.default.useCallback((e=>{S(e,l._proxyFormState,!0)&&(l._formState={...l._formState,...e},a({...l._formState}))}),[l])}),n.default.useEffect((()=>{l._stateFlags.mount||(l._proxyFormState.isValid&&l._updateValid(),l._stateFlags.mount=!0),l._stateFlags.watch&&(l._stateFlags.watch=!1,l._subjects.state.next({})),l._removeUnmounted()})),n.default.useEffect((()=>{t.submitCount&&l._focusError()}),[l,t.submitCount]),r.current.formState=w(t,l),r.current},r.useFormContext=A,r.useFormState=V,r.useWatch=L}}]);