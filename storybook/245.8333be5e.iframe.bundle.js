(self.webpackChunkweb=self.webpackChunkweb||[]).push([[245],{75958:function(e,r,t){"use strict";var a=t(27378),s=t(74857),l=function(e){if(e)return e.replace(/:\d{2}\.\d{3}\w/,"")},n=function(e){var r,t,n,i,o,u,d,c;return a.createElement("div",{className:"rw-form-wrapper"},a.createElement(s.Form,{onSubmit:function(r){var t;e.onSave(r,null==e||null===(t=e.event)||void 0===t?void 0:t.id)},error:e.error},a.createElement(s.FormError,{error:e.error,wrapperClassName:"rw-form-error-wrapper",titleClassName:"rw-form-error-title",listClassName:"rw-form-error-list"}),a.createElement(s.Label,{name:"label",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Label"),a.createElement(s.TextField,{name:"label",defaultValue:null===(r=e.event)||void 0===r?void 0:r.label,className:"rw-input",errorClassName:"rw-input rw-input-error"}),a.createElement(s.FieldError,{name:"label",className:"rw-field-error"}),a.createElement(s.Label,{name:"date",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Date"),a.createElement(s.DatetimeLocalField,{name:"date",defaultValue:l(null===(t=e.event)||void 0===t?void 0:t.date),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(s.FieldError,{name:"date",className:"rw-field-error"}),a.createElement(s.Label,{name:"start",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Start"),a.createElement(s.DatetimeLocalField,{name:"start",defaultValue:l(null===(n=e.event)||void 0===n?void 0:n.start),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(s.FieldError,{name:"start",className:"rw-field-error"}),a.createElement(s.Label,{name:"end",className:"rw-label",errorClassName:"rw-label rw-label-error"},"End"),a.createElement(s.DatetimeLocalField,{name:"end",defaultValue:l(null===(i=e.event)||void 0===i?void 0:i.end),className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(s.FieldError,{name:"end",className:"rw-field-error"}),a.createElement(s.Label,{name:"passenger",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Passenger"),a.createElement(s.CheckboxField,{name:"passenger",defaultChecked:null===(o=e.event)||void 0===o?void 0:o.passenger,className:"rw-input",errorClassName:"rw-input rw-input-error"}),a.createElement(s.FieldError,{name:"passenger",className:"rw-field-error"}),a.createElement(s.Label,{name:"likelihood",className:"rw-label",errorClassName:"rw-label rw-label-error"},"likelihood"),a.createElement(s.NumberField,{name:"likelihood",defaultValue:null===(u=e.event)||void 0===u?void 0:u.likelihood,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(s.FieldError,{name:"likelihood",className:"rw-field-error"}),a.createElement(s.Label,{name:"active",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Active"),a.createElement(s.CheckboxField,{name:"active",defaultChecked:null===(d=e.event)||void 0===d?void 0:d.active,className:"rw-input",errorClassName:"rw-input rw-input-error"}),a.createElement(s.FieldError,{name:"active",className:"rw-field-error"}),a.createElement(s.Label,{name:"locationId",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Location id"),a.createElement(s.NumberField,{name:"locationId",defaultValue:null===(c=e.event)||void 0===c?void 0:c.locationId,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(s.FieldError,{name:"locationId",className:"rw-field-error"}),a.createElement("div",{className:"rw-button-group"},a.createElement(s.Submit,{disabled:e.loading,className:"rw-button rw-button-blue"},"Save"))))};r.Z=n;try{n.displayName="EventForm",n.__docgenInfo={description:"",displayName:"EventForm",props:{event:{defaultValue:null,description:"",name:"event",required:!1,type:{name:'{ __typename?: "Event"; id: number; createdAt: string; updatedAt: string; label?: string; date: string; start: string; end: string; passenger: boolean; likelihood: number; active: boolean; locationId: number; }'}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(data: UpdateEventInput, id?: number) => void"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"RWGqlError"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Event/EventForm/EventForm.tsx#EventForm"]={docgenInfo:n.__docgenInfo,name:"EventForm",path:"src/components/Event/EventForm/EventForm.tsx#EventForm"})}catch(e){}},25245:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var a,s=t(27378),l=(t(95988),t(60740),t(27001)),n=t(56423),i=t(31786),o=t(81006),u=t(75958);function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var c,f,m=(0,l.ZP)(a||(c=["\n  mutation CreateEventMutation($input: CreateEventInput!) {\n    createEvent(input: $input) {\n      id\n    }\n  }\n"],f||(f=c.slice(0)),a=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(f)}})))),y=function(){var e,r,t=(0,i.useMutation)(m,{onCompleted:function(){o.toast.success("Event created"),(0,n.navigate)(n.routes.events())},onError:function(e){o.toast.error(e.message)}}),a=(r=2,function(e){if(Array.isArray(e))return e}(e=t)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,s,l,n,i=[],o=!0,u=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(a=l.call(t)).done)&&(i.push(a.value),i.length!==r);o=!0);}catch(e){u=!0,s=e}finally{try{if(!o&&null!=t.return&&(n=t.return(),Object(n)!==n))return}finally{if(u)throw s}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1],f=c.loading,y=c.error;return s.createElement("div",{className:"rw-segment"},s.createElement("header",{className:"rw-segment-header"},s.createElement("h2",{className:"rw-heading rw-heading-secondary"},"New Event")),s.createElement("div",{className:"rw-segment-main"},s.createElement(u.Z,{onSave:function(e){l({variables:{input:e}})},loading:f,error:y})))},p=function(){return s.createElement(y,null)}},58939:function(e,r,t){"use strict";var a=t(9131),s=t(4289).default;a(r,"__esModule",{value:!0}),r.default=void 0;var l=s(t(27378)),n=s(t(27085)),i=s(t(91496)),o=s(t(98108)),u=s(t(73749)),d=s(t(86506));r.default=e=>{var r;let{error:t,wrapperClassName:a,wrapperStyle:s,titleClassName:c,titleStyle:f,listClassName:m,listStyle:y,listItemClassName:p,listItemStyle:v}=e;if(!t)return null;let g=t.message;const h=[],b=!(null===(r=t.graphQLErrors)||void 0===r||!r[0]),F=!!t.networkError&&(0,n.default)(t.networkError).length>0;if(b){var w,A,_,S;g=null!==(w=t.graphQLErrors[0].message)&&void 0!==w?w:"Something went wrong","BAD_USER_INPUT"===(null===(A=t.graphQLErrors[0])||void 0===A||null===(_=A.extensions)||void 0===_?void 0:_.code)&&(g="Errors prevented this form from being saved");const e=null===(S=t.graphQLErrors[0].extensions)||void 0===S?void 0:S.properties,r=e&&e.messages;if(r)for(const e in r){var E;(0,i.default)(E=r[e]).call(E,(e=>{h.push(e)}))}}else if(F){var N;if(g=null!==(N=g)&&void 0!==N?N:"An error has occurred",Object.prototype.hasOwnProperty.call(t.networkError,"bodyText")){var x;const e=t.networkError;h.push((0,o.default)(x="".concat(e.name,": ")).call(x,e.bodyText))}else if(Object.prototype.hasOwnProperty.call(t.networkError,"result")){var C;null===(C=t.networkError.result.errors)||void 0===C||(0,i.default)(C).call(C,(e=>{var r,t;"string"==typeof e.message&&((0,u.default)(r=e.message).call(r,";")>=0?h.push(null===(t=e.message)||void 0===t?void 0:t.split(";")[1]):h.push(e.message))}))}}return g?l.default.createElement("div",{className:a,style:s},l.default.createElement("p",{className:c,style:f},g),h.length>0&&l.default.createElement("ul",{className:m,style:y},(0,d.default)(h).call(h,((e,r)=>l.default.createElement("li",{key:r,className:p,style:v},e))))):null}},74857:function(e,r,t){"use strict";var a,s=t(9131),l=t(91496),n=t(27085),i=t(31550).default,o=t(4289).default;s(r,"__esModule",{value:!0});var u={CheckboxField:!0,ButtonField:!0,ColorField:!0,DateField:!0,DatetimeLocalField:!0,EmailField:!0,FileField:!0,HiddenField:!0,ImageField:!0,MonthField:!0,NumberField:!0,PasswordField:!0,RadioField:!0,RangeField:!0,ResetField:!0,SearchField:!0,SubmitField:!0,TelField:!0,TextField:!0,TimeField:!0,UrlField:!0,WeekField:!0,Form:!0,ServerErrorsContext:!0,FieldError:!0,InputField:!0,Label:!0,TextAreaField:!0,SelectField:!0,Submit:!0,useErrorStyles:!0,useRegister:!0,FormError:!0};r.Form=r.FileField=r.FieldError=r.EmailField=r.DatetimeLocalField=r.DateField=r.ColorField=r.CheckboxField=r.ButtonField=void 0,s(r,"FormError",{enumerable:!0,get:function(){return v.default}}),r.useRegister=r.useErrorStyles=r.WeekField=r.UrlField=r.TimeField=r.TextField=r.TextAreaField=r.TelField=r.SubmitField=r.Submit=r.ServerErrorsContext=r.SelectField=r.SearchField=r.ResetField=r.RangeField=r.RadioField=r.PasswordField=r.NumberField=r.MonthField=r.Label=r.InputField=r.ImageField=r.HiddenField=void 0;var d=o(t(98108)),c=o(t(91496)),f=o(t(56666)),m=i(t(27378)),y=o(t(35131)),p=t(42192);l(a=n(p)).call(a,(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(u,e)||e in r&&r[e]===p[e]||s(r,e,{enumerable:!0,get:function(){return p[e]}}))}));var v=o(t(58939));const g=e=>{let{name:r,errorClassName:t,errorStyle:a,className:s,style:l}=e;const{formState:{errors:n},setError:i}=(0,p.useFormContext)(),o=(0,m.useContext)(A)[r];return m.default.useEffect((()=>{o&&i(r,{type:"server",message:o})}),[o,r,i]),(r?(0,p.get)(n,r):void 0)&&(t&&(s=t),a&&(l=a)),{className:s,style:l}};r.useErrorStyles=g;const h=e=>""===e,b={valueAsDate:{emptyAsNull:e=>h(e)?null:new Date(e),emptyAsUndefined:e=>h(e)?void 0:new Date(e),emptyAsString:e=>h(e)?"":new Date(e),emptyAsZero:e=>h(e)?0:new Date(e)},valueAsJSON:{emptyAsNull:e=>{if(h(e))return null;try{return JSON.parse(e)}catch(e){return NaN}},emptyAsString:e=>{if(h(e))return"";try{return JSON.parse(e)}catch(e){return NaN}},emptyAsUndefined:e=>{if(!h(e))try{return JSON.parse(e)}catch(e){return NaN}},emptyAsZero:e=>{if(h(e))return 0;try{return JSON.parse(e)}catch(e){return NaN}}},valueAsNumber:{emptyAsNull:e=>h(e)?null:+e,emptyAsUndefined:e=>h(e)?void 0:+e,emptyAsNaN:e=>h(e)?NaN:+e,emptyAsString:e=>h(e)?"":+e,emptyAsZero:e=>h(e)?0:+e},valueAsString:{emptyAsNull:e=>h(e)?null:e,emptyAsUndefined:e=>h(e)?void 0:e,emptyAsString:e=>h(e)?"":e,emptyAsZero:e=>h(e)?0:e}},F=e=>"number"!=typeof e||!isNaN(e),w=(e,r,t)=>{const{register:a}=(0,p.useFormContext)(),s=e.validation||{required:!1};((e,r)=>{let t,{type:a,name:s,emptyAs:l}=r;e.setValueAs||e.valueAsBoolean||"checkbox"===a||(e.valueAsJSON?(e.validate=F,delete e.valueAsJSON,t="valueAsJSON"):t="date"===a||"datetime-local"===a||e.valueAsDate?"valueAsDate":"number"===a||e.valueAsNumber?"valueAsNumber":"valueAsString",e.setValueAs=((e,r,t,a)=>{const s=b[e];if(void 0===s)throw Error("Type ".concat(e," is unsupported."));let l;switch(r){case null:l=s.emptyAsNull;break;case"undefined":l=s.emptyAsUndefined;break;case 0:l=s.emptyAsZero;break;case"":l=s.emptyAsString;break;default:if(t||a)l=s.emptyAsNull;else switch(e){case"valueAsNumber":l=s.emptyAsNaN;break;case"valueAsDate":case"valueAsJSON":l=s.emptyAsNull;break;case"valueAsString":l=s.emptyAsString}}return void 0===l&&console.error("emptyAs prop of ".concat(r," is unsupported for this type.")),l})(t,l,void 0!==e.required&&!1!==e.required,/Id$/.test(s||"")))})(s,{type:e.type,name:e.name,emptyAs:t});const{ref:l,onBlur:n,onChange:i,...o}=a(e.name,s);return{...o,ref:e=>{l(e),"function"==typeof r?r(e):r&&(r.current=e)},onBlur:r=>{var t;n(r),null===(t=e.onBlur)||void 0===t||t.call(e,r)},onChange:r=>{var t;i(r),null===(t=e.onChange)||void 0===t||t.call(e,r)}}};r.useRegister=w;const A=m.default.createContext({});function _(e,r){var t,a,s,l;let{config:n,error:i,formMethods:o,onSubmit:u,children:d,...c}=e;const y=(0,p.useForm)(n),v=o||y;return m.default.createElement("form",(0,f.default)({ref:r},c,{onSubmit:v.handleSubmit(((e,r)=>null==u?void 0:u(e,r)))}),m.default.createElement(A.Provider,{value:(null==i||null===(t=i.graphQLErrors)||void 0===t||null===(a=t[0])||void 0===a||null===(s=a.extensions)||void 0===s||null===(l=s.properties)||void 0===l?void 0:l.messages)||{}},m.default.createElement(p.FormProvider,v,d)))}r.ServerErrorsContext=A;const S=(0,m.forwardRef)(_);r.Form=S,r.Label=e=>{let{name:r,children:t,errorClassName:a,errorStyle:s,className:l,style:n,...i}=e;const o=g({name:r,errorClassName:a,errorStyle:s,className:l,style:n});return m.default.createElement("label",(0,f.default)({htmlFor:r},i,o),t||r)};const E={required:"is required",pattern:"is not formatted correctly",minLength:"is too short",maxLength:"is too long",min:"is too low",max:"is too high",validate:"is not valid"};r.FieldError=e=>{var r;let{name:t,...a}=e;const{formState:{errors:s}}=(0,p.useFormContext)(),l=(0,p.get)(s,t),n=l&&(l.message||(0,d.default)(r="".concat(t," ")).call(r,E[l.type]));return l?m.default.createElement("span",a,n):null};const N=(0,m.forwardRef)(((e,r)=>{let{name:t,id:a,emptyAs:s,errorClassName:l,errorStyle:n,className:i,style:o,validation:u,onBlur:d,onChange:c,...y}=e;const p=g({name:t,errorClassName:l,errorStyle:n,className:i,style:o}),v=w({name:t,validation:u,onBlur:d,onChange:c},r,s);return m.default.createElement("textarea",(0,f.default)({id:a||t},y,p,v))}));r.TextAreaField=N;const x=(0,m.forwardRef)(((e,r)=>{let{name:t,id:a,emptyAs:s,errorClassName:l,errorStyle:n,className:i,style:o,validation:u,onBlur:d,onChange:c,...y}=e;const p=g({name:t,errorClassName:l,errorStyle:n,className:i,style:o}),v=w({name:t,validation:u,onBlur:d,onChange:c},r,s);return m.default.createElement("select",(0,f.default)({id:a||t},y,p,v))}));r.SelectField=x;const C=(0,m.forwardRef)(((e,r)=>{let{name:t,id:a,errorClassName:s,errorStyle:l,className:n,style:i,validation:o,onBlur:u,onChange:d,...c}=e;const y=g({name:t,errorClassName:s,errorStyle:l,className:n,style:i}),p="checkbox",v=w({name:t,validation:o,onBlur:u,onChange:d,type:p},r);return m.default.createElement("input",(0,f.default)({id:a||t},c,{type:p},y,v))}));r.CheckboxField=C;const V=(0,m.forwardRef)(((e,r)=>m.default.createElement("button",(0,f.default)({ref:r,type:"submit"},e))));r.Submit=V;const k=["button","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],D=(0,m.forwardRef)(((e,r)=>{let{name:t,id:a,emptyAs:s,errorClassName:l,errorStyle:n,className:i,style:o,validation:u,onBlur:d,onChange:c,type:y,...p}=e;const v=g({name:t,errorClassName:l,errorStyle:n,className:i,style:o}),h=w({name:t,validation:u,onBlur:d,onChange:c,type:y},r,s);return m.default.createElement("input",(0,f.default)({id:a||t},p,{type:y},v,h))}));r.InputField=D;const O={};(0,c.default)(k).call(k,(e=>{O["".concat((0,y.default)(e),"Field")]=(0,m.forwardRef)(((r,t)=>m.default.createElement(D,(0,f.default)({ref:t,type:e},r))))}));const{ButtonField:L,ColorField:T,DateField:j,DatetimeLocalField:R,EmailField:B,FileField:U,HiddenField:I,ImageField:M,MonthField:q,NumberField:P,PasswordField:W,RadioField:$,RangeField:J,ResetField:Z,SearchField:H,SubmitField:Q,TelField:z,TextField:K,TimeField:Y,UrlField:G,WeekField:X}=O;r.WeekField=X,r.UrlField=G,r.TimeField=Y,r.TextField=K,r.TelField=z,r.SubmitField=Q,r.SearchField=H,r.ResetField=Z,r.RangeField=J,r.RadioField=$,r.PasswordField=W,r.NumberField=P,r.MonthField=q,r.ImageField=M,r.HiddenField=I,r.FileField=U,r.EmailField=B,r.DatetimeLocalField=R,r.DateField=j,r.ColorField=T,r.ButtonField=L},81006:function(e,r,t){e.exports=t(73487)},35131:function(e){e.exports=e=>{if(null==e)return"";if("function"!=typeof e.toString)return"";let r=e.toString().trim();if(""===r)return"";if(1===r.length)return r.toLocaleUpperCase();let t=r.match(/[a-zA-Z0-9]+/g);return t?t.map((e=>(e=>e[0].toLocaleUpperCase()+e.slice(1))(e))).join(""):r}},42192:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,s=(a=t(27378))&&"object"==typeof a&&"default"in a?a:{default:a},l=e=>"checkbox"===e.type,n=e=>e instanceof Date,i=e=>null==e;const o=e=>"object"==typeof e;var u=e=>!i(e)&&!Array.isArray(e)&&o(e)&&!n(e),d=e=>u(e)&&e.target?l(e.target)?e.target.checked:e.target.value:e,c=(e,r)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(r)),f=e=>Array.isArray(e)?e.filter(Boolean):[],m=e=>void 0===e,y=(e,r,t)=>{if(!r||!u(e))return t;const a=f(r.split(/[,[\].]+?/)).reduce(((e,r)=>i(e)?e:e[r]),e);return m(a)||a===e?m(e[r])?t:e[r]:a};const p="blur",v="onChange",g="onSubmit",h="all",b="pattern",F="required",w=s.default.createContext(null),A=()=>s.default.useContext(w);var _=(e,r,t,a=!0)=>{const s={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(s,l,{get:()=>{const s=l;return r._proxyFormState[s]!==h&&(r._proxyFormState[s]=!a||h),t&&(t[s]=!0),e[s]}});return s},S=e=>u(e)&&!Object.keys(e).length,E=(e,r,t)=>{const{name:a,...s}=e;return S(s)||Object.keys(s).length>=Object.keys(r).length||Object.keys(s).find((e=>r[e]===(!t||h)))},N=e=>Array.isArray(e)?e:[e],x=(e,r,t)=>t&&r?e===r:!e||!r||e===r||N(e).some((e=>e&&(e.startsWith(r)||r.startsWith(e))));function C(e){const r=s.default.useRef(e);r.current=e,s.default.useEffect((()=>{const t=!e.disabled&&r.current.subject.subscribe({next:r.current.callback});return()=>{t&&t.unsubscribe()}}),[e.disabled])}function V(e){const r=A(),{control:t=r.control,disabled:a,name:l,exact:n}=e||{},[i,o]=s.default.useState(t._formState),u=s.default.useRef(!0),d=s.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=s.default.useRef(l);return c.current=l,C({disabled:a,callback:s.default.useCallback((e=>u.current&&x(c.current,e.name,n)&&E(e,d.current)&&o({...t._formState,...e})),[t,n]),subject:t._subjects.state}),s.default.useEffect((()=>(u.current=!0,()=>{u.current=!1})),[]),_(i,t,d.current,!1)}var k=e=>"string"==typeof e,D=(e,r,t,a)=>{const s=Array.isArray(e);return k(e)?(a&&r.watch.add(e),y(t,e)):s?e.map((e=>(a&&r.watch.add(e),y(t,e)))):(a&&(r.watchAll=!0),t)},O=e=>"function"==typeof e,L=e=>{for(const r in e)if(O(e[r]))return!0;return!1};function T(e){const r=A(),{control:t=r.control,name:a,defaultValue:l,disabled:n,exact:i}=e||{},o=s.default.useRef(a);o.current=a,C({disabled:n,subject:t._subjects.watch,callback:s.default.useCallback((e=>{if(x(o.current,e.name,i)){const r=D(o.current,t._names,e.values||t._formValues);c(m(o.current)||u(r)&&!L(r)?{...r}:Array.isArray(r)?[...r]:m(r)?l:r)}}),[t,i,l])});const[d,c]=s.default.useState(m(l)?t._getWatch(a):l);return s.default.useEffect((()=>t._removeUnmounted())),d}function j(e){const r=A(),{name:t,control:a=r.control,shouldUnregister:l}=e,n=c(a._names.array,t),i=T({control:a,name:t,defaultValue:y(a._formValues,t,y(a._defaultValues,t,e.defaultValue)),exact:!0}),o=V({control:a,name:t}),u=s.default.useRef(a.register(t,{...e.rules,value:i}));return s.default.useEffect((()=>{const e=(e,r)=>{const t=y(a._fields,e);t&&(t._f.mount=r)};return e(t,!0),()=>{const r=a._options.shouldUnregister||l;(n?r&&!a._stateFlags.action:r)?a.unregister(t):e(t,!1)}}),[t,a,n,l]),{field:{name:t,value:i,onChange:s.default.useCallback((e=>u.current.onChange({target:{value:d(e),name:t},type:"change"})),[t]),onBlur:s.default.useCallback((()=>u.current.onBlur({target:{value:y(a._formValues,t),name:t},type:p})),[t,a]),ref:e=>{const r=y(a._fields,t);r&&e&&(r._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:r=>e.setCustomValidity(r),reportValidity:()=>e.reportValidity()})}},formState:o,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(o.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(o.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(o.touchedFields,t)},error:{enumerable:!0,get:()=>y(o.errors,t)}})}}var R=(e,r,t,a,s)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:s||!0}}:{},B=e=>/^\w*$/.test(e),U=e=>f(e.replace(/["|']|\]/g,"").split(/\.|\[/));function I(e,r,t){let a=-1;const s=B(r)?[r]:U(r),l=s.length,n=l-1;for(;++a<l;){const r=s[a];let l=t;if(a!==n){const t=e[r];l=u(t)||Array.isArray(t)?t:isNaN(+s[a+1])?{}:[]}e[r]=l,e=e[r]}return e}const M=(e,r,t)=>{for(const a of t||Object.keys(e)){const t=y(e,a);if(t){const{_f:e,...a}=t;if(e&&r(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else u(a)&&M(a,r)}}};var q=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(r=>{const t=(16*Math.random()+e)%16|0;return("x"==r?t:3&t|8).toString(16)}))},P=(e,r,t={})=>t.shouldFocus||m(t.shouldFocus)?t.focusName||`${e}.${m(t.focusIndex)?r:t.focusIndex}.`:"",W=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some((r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))))),$=(e,r,t)=>{const a=f(y(e,t));return I(a,"root",r[t]),I(e,t,a),e},J=e=>"boolean"==typeof e,Z=e=>"file"===e.type,H=e=>k(e)||s.default.isValidElement(e),Q=e=>"radio"===e.type,z=e=>e instanceof RegExp;const K={value:!1,isValid:!1},Y={value:!0,isValid:!0};var G=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||""===e[0].value?Y:{value:e[0].value,isValid:!0}:Y:K}return K};const X={isValid:!1,value:null};var ee=e=>Array.isArray(e)?e.reduce(((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e),X):X;function re(e,r,t="validate"){if(H(e)||Array.isArray(e)&&e.every(H)||J(e)&&!e)return{type:t,message:H(e)?e:"",ref:r}}var te=e=>u(e)&&!z(e)?e:{value:e,message:""},ae=async(e,r,t,a,s)=>{const{ref:n,refs:o,required:d,maxLength:c,minLength:f,min:m,max:y,pattern:p,validate:v,name:g,valueAsNumber:h,mount:w,disabled:A}=e._f;if(!w||A)return{};const _=o?o[0]:n,E=e=>{a&&k(e)&&(_.setCustomValidity(e),_.reportValidity())},N={},x=Q(n),C=l(n),V=x||C,D=(h||Z(n))&&!n.value||""===r||Array.isArray(r)&&!r.length,L=R.bind(null,g,t,N),T=(e,r,t,a="maxLength",s="minLength")=>{const l=e?r:t;N[g]={type:e?a:s,message:l,ref:n,...L(e?a:s,l)}};if(s?!Array.isArray(r)||!r.length:d&&(!V&&(D||i(r))||J(r)&&!r||C&&!G(o).isValid||x&&!ee(o).isValid)){const{value:e,message:r}=H(d)?{value:!!d,message:d}:te(d);if(e&&(N[g]={type:F,message:r,ref:_,...L(F,r)},!t))return E(r),N}if(!(D||i(m)&&i(y))){let e,a;const s=te(y),l=te(m);if(i(r)||isNaN(r)){const t=n.valueAsDate||new Date(r),i=e=>new Date((new Date).toDateString()+" "+e),o="time"==n.type,u="week"==n.type;k(s.value)&&r&&(e=o?i(r)>i(s.value):u?r>s.value:t>new Date(s.value)),k(l.value)&&r&&(a=o?i(r)<i(l.value):u?r<l.value:t<new Date(l.value))}else{const t=n.valueAsNumber||(r?+r:r);i(s.value)||(e=t>s.value),i(l.value)||(a=t<l.value)}if((e||a)&&(T(!!e,s.message,l.message,"max","min"),!t))return E(N[g].message),N}if((c||f)&&!D&&(k(r)||s&&Array.isArray(r))){const e=te(c),a=te(f),s=!i(e.value)&&r.length>e.value,l=!i(a.value)&&r.length<a.value;if((s||l)&&(T(s,e.message,a.message),!t))return E(N[g].message),N}if(p&&!D&&k(r)){const{value:e,message:a}=te(p);if(z(e)&&!r.match(e)&&(N[g]={type:b,message:a,ref:n,...L(b,a)},!t))return E(a),N}if(v)if(O(v)){const e=re(await v(r),_);if(e&&(N[g]={...e,...L("validate",e.message)},!t))return E(e.message),N}else if(u(v)){let e={};for(const a in v){if(!S(e)&&!t)break;const s=re(await v[a](r),_,a);s&&(e={...s,...L(a,s.message)},E(s.message),t&&(N[g]=e))}if(!S(e)&&(N[g]={ref:_,...e},!t))return N}return E(!0),N};function se(e,r){return[...e,...N(r)]}var le="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function ne(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else{if(le&&(e instanceof Blob||e instanceof FileList)||!t&&!u(e))return e;if(r=t?[]:{},Array.isArray(e)||(e=>{const r=e.constructor&&e.constructor.prototype;return u(r)&&r.hasOwnProperty("isPrototypeOf")})(e))for(const t in e)r[t]=ne(e[t]);else r=e}return r}var ie=e=>Array.isArray(e)?e.map((()=>{})):void 0,oe=e=>({isOnSubmit:!e||e===g,isOnBlur:"onBlur"===e,isOnChange:e===v,isOnAll:e===h,isOnTouch:"onTouched"===e});function ue(e,r,t){return[...e.slice(0,r),...N(t),...e.slice(r)]}var de=(e,r,t)=>Array.isArray(e)?(m(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[];function ce(e,r){return[...N(r),...N(e)]}var fe=(e,r)=>m(r)?[]:function(e,r){let t=0;const a=[...e];for(const e of r)a.splice(e-t,1),t++;return f(a).length?a:[]}(e,N(r).sort(((e,r)=>e-r))),me=(e,r,t)=>{e[r]=[e[t],e[t]=e[r]][0]};function ye(e){for(const r in e)if(!m(e[r]))return!1;return!0}function pe(e,r){const t=B(r)?[r]:U(r),a=1==t.length?e:function(e,r){const t=r.slice(0,-1).length;let a=0;for(;a<t;)e=m(e)?a++:e[r[a++]];return e}(e,t),s=t[t.length-1];let l;a&&delete a[s];for(let r=0;r<t.slice(0,-1).length;r++){let a,s=-1;const n=t.slice(0,-(r+1)),i=n.length-1;for(r>0&&(l=e);++s<n.length;){const r=n[s];a=a?a[r]:e[r],i===s&&(u(a)&&S(a)||Array.isArray(a)&&ye(a))&&(l?delete l[r]:delete e[r]),l=a}}return e}var ve=(e,r,t)=>(e[r]=t,e);function ge(){let e=[];return{get observers(){return e},next:r=>{for(const t of e)t.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter((e=>e!==r))}}),unsubscribe:()=>{e=[]}}}var he=e=>i(e)||!o(e);function be(e,r){if(he(e)||he(r))return e===r;if(n(e)&&n(r))return e.getTime()===r.getTime();const t=Object.keys(e),a=Object.keys(r);if(t.length!==a.length)return!1;for(const s of t){const t=e[s];if(!a.includes(s))return!1;if("ref"!==s){const e=r[s];if(n(t)&&n(e)||u(t)&&u(e)||Array.isArray(t)&&Array.isArray(e)?!be(t,e):t!==e)return!1}}return!0}var Fe=e=>{const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},we=e=>"select-multiple"===e.type,Ae=e=>Fe(e)&&e.isConnected;function _e(e,r={}){const t=Array.isArray(e);if(u(e)||t)for(const t in e)Array.isArray(e[t])||u(e[t])&&!L(e[t])?(r[t]=Array.isArray(e[t])?[]:{},_e(e[t],r[t])):i(e[t])||(r[t]=!0);return r}var Se=(e,r)=>function e(r,t,a){const s=Array.isArray(r);if(u(r)||s)for(const s in r)Array.isArray(r[s])||u(r[s])&&!L(r[s])?m(t)||he(a[s])?a[s]=Array.isArray(r[s])?_e(r[s],[]):{..._e(r[s])}:e(r[s],i(t)?{}:t[s],a[s]):be(r[s],t[s])?delete a[s]:a[s]=!0;return a}(e,r,_e(r)),Ee=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:a})=>m(e)?e:r?""===e?NaN:e?+e:e:t&&k(e)?new Date(e):a?a(e):e;function Ne(e){const r=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):r.disabled))return Z(r)?r.files:Q(r)?ee(e.refs).value:we(r)?[...r.selectedOptions].map((({value:e})=>e)):l(r)?G(e.refs).value:Ee(m(r.value)?e.ref.value:r.value,e)}var xe=e=>m(e)?void 0:z(e)?e.source:u(e)?z(e.value)?e.value.source:e.value:e;function Ce(e,r,t){const a=y(e,t);if(a||B(t))return{error:a,name:t};const s=t.split(".");for(;s.length;){const a=s.join("."),l=y(r,a),n=y(e,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(n&&n.type)return{name:a,error:n};s.pop()}return{name:t}}const Ve={mode:g,reValidateMode:v,shouldFocusError:!0};function ke(e={}){let r,t={...Ve,...e},a={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=ne(t.defaultValues)||{},u=t.shouldUnregister?{}:ne(o),v={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b=0,F={};const w={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={watch:ge(),array:ge(),state:ge()},_=oe(t.mode),E=oe(t.reValidateMode),x=t.criteriaMode===h,C=async()=>{let e=!1;return w.isValid&&(e=t.resolver?S((await j()).errors):await R(s,!0),e!==a.isValid&&(a.isValid=e,A.state.next({isValid:e}))),e},V=(e,r,t,a)=>{const l=y(s,e);if(l){const s=y(u,e,m(t)?y(o,e):t);m(s)||a&&a.defaultChecked||r?I(u,e,r?s:Ne(l._f)):q(e,s),v.mount&&C()}},L=(e,r,t,s,l)=>{let n=!1;const i={name:e},u=y(a.touchedFields,e);if(w.isDirty){const e=a.isDirty;a.isDirty=i.isDirty=B(),n=e!==i.isDirty}if(w.dirtyFields&&(!t||s)){const t=y(a.dirtyFields,e);be(y(o,e),r)?pe(a.dirtyFields,e):I(a.dirtyFields,e,!0),i.dirtyFields=a.dirtyFields,n=n||t!==y(a.dirtyFields,e)}return t&&!u&&(I(a.touchedFields,e,t),i.touchedFields=a.touchedFields,n=n||w.touchedFields&&u!==t),n&&l&&A.state.next(i),n?i:{}},T=(t,s,l,n)=>{const i=y(a.errors,t),o=w.isValid&&J(s)&&a.isValid!==s;var u;if(e.delayError&&l?(u=()=>((e,r)=>{I(a.errors,e,r),A.state.next({errors:a.errors})})(t,l),r=e=>{clearTimeout(b),b=window.setTimeout(u,e)},r(e.delayError)):(clearTimeout(b),r=null,l?I(a.errors,t,l):pe(a.errors,t)),(l?!be(i,l):i)||!S(n)||o){const e={...n,...o&&J(s)?{isValid:s}:{},errors:a.errors,name:t};a={...a,...e},A.state.next(e)}F[t]--,w.isValidating&&!Object.values(F).some((e=>e))&&(A.state.next({isValidating:!1}),F={})},j=async e=>t.resolver?await t.resolver({...u},t.context,((e,r,t,a)=>{const s={};for(const t of e){const e=y(r,t);e&&I(s,t,e._f)}return{criteriaMode:t,names:[...e],fields:s,shouldUseNativeValidation:a}})(e||g.mount,s,t.criteriaMode,t.shouldUseNativeValidation)):{},R=async(e,r,s={valid:!0})=>{for(const l in e){const n=e[l];if(n){const{_f:e,...l}=n;if(e){const l=g.array.has(e.name),i=await ae(n,y(u,e.name),x,t.shouldUseNativeValidation,l);if(i[e.name]&&(s.valid=!1,r))break;!r&&(y(i,e.name)?l?$(a.errors,i,e.name):I(a.errors,e.name,i[e.name]):pe(a.errors,e.name))}l&&await R(l,r,s)}}return s.valid},B=(e,r)=>(e&&r&&I(u,e,r),!be(Y(),o)),U=(e,r,t)=>{const a={...v.mount?u:m(r)?o:k(e)?{[e]:r}:r};return D(e,g,a,t)},q=(e,r,t={})=>{const a=y(s,e);let n=r;if(a){const t=a._f;t&&(!t.disabled&&I(u,e,Ee(r,t)),n=le&&Fe(t.ref)&&i(r)?"":r,we(t.ref)?[...t.ref.options].forEach((e=>e.selected=n.includes(e.value))):t.refs?l(t.ref)?t.refs.length>1?t.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(n)?!!n.find((r=>r===e.value)):n===e.value))):t.refs[0]&&(t.refs[0].checked=!!n):t.refs.forEach((e=>e.checked=e.value===n)):Z(t.ref)?t.ref.value="":(t.ref.value=n,t.ref.type||A.watch.next({name:e})))}(t.shouldDirty||t.shouldTouch)&&L(e,n,t.shouldTouch,t.shouldDirty,!0),t.shouldValidate&&K(e)},P=(e,r,t)=>{for(const a in r){const l=r[a],i=`${e}.${a}`,o=y(s,i);!g.array.has(e)&&he(l)&&(!o||o._f)||n(l)?q(i,l,t):P(i,l,t)}},H=(e,r,t={})=>{const l=y(s,e),n=g.array.has(e),d=ne(r);I(u,e,d),n?(A.array.next({name:e,values:u}),(w.isDirty||w.dirtyFields)&&t.shouldDirty&&(a.dirtyFields=Se(o,u),A.state.next({name:e,dirtyFields:a.dirtyFields,isDirty:B(e,d)}))):!l||l._f||i(d)?q(e,d,t):P(e,d,t),W(e,g)&&A.state.next({}),A.watch.next({name:e})},z=async e=>{const l=e.target;let n=l.name;const i=y(s,n);if(i){let c,f;const m=l.type?Ne(i._f):d(e),v=e.type===p||"focusout"===e.type,h=!((o=i._f).mount&&(o.required||o.min||o.max||o.maxLength||o.minLength||o.pattern||o.validate)||t.resolver||y(a.errors,n)||i._f.deps)||((e,r,t,a,s)=>!s.isOnAll&&(!t&&s.isOnTouch?!(r||e):(t?a.isOnBlur:s.isOnBlur)?!e:!(t?a.isOnChange:s.isOnChange)||e))(v,y(a.touchedFields,n),a.isSubmitted,E,_),b=W(n,g,v);I(u,n,m),v?(i._f.onBlur&&i._f.onBlur(e),r&&r(0)):i._f.onChange&&i._f.onChange(e);const N=L(n,m,v,!1),V=!S(N)||b;if(!v&&A.watch.next({name:n,type:e.type}),h)return w.isValid&&C(),V&&A.state.next({name:n,...b?{}:N});if(!v&&b&&A.state.next({}),F[n]=F[n]?F[n]+1:1,A.state.next({isValidating:!0}),t.resolver){const{errors:e}=await j([n]),r=Ce(a.errors,s,n),t=Ce(e,s,r.name||n);c=t.error,n=t.name,f=S(e)}else c=(await ae(i,y(u,n),x,t.shouldUseNativeValidation))[n],C();i._f.deps&&K(i._f.deps),T(n,f,c,N)}var o},K=async(e,r={})=>{let l,n;const i=N(e);if(A.state.next({isValidating:!0}),t.resolver){const r=await(async e=>{const{errors:r}=await j();if(e)for(const t of e){const e=y(r,t);e?I(a.errors,t,e):pe(a.errors,t)}else a.errors=r;return r})(m(e)?e:i);l=S(r),n=e?!i.some((e=>y(r,e))):l}else e?(n=(await Promise.all(i.map((async e=>{const r=y(s,e);return await R(r&&r._f?{[e]:r}:r)})))).every(Boolean),(n||a.isValid)&&C()):n=l=await R(s);return A.state.next({...!k(e)||w.isValid&&l!==a.isValid?{}:{name:e},...t.resolver||!e?{isValid:l}:{},errors:a.errors,isValidating:!1}),r.shouldFocus&&!n&&M(s,(e=>e&&y(a.errors,e)),e?i:g.mount),n},Y=e=>{const r={...o,...v.mount?u:{}};return m(e)?r:k(e)?y(r,e):e.map((e=>y(r,e)))},G=(e,r)=>({invalid:!!y((r||a).errors,e),isDirty:!!y((r||a).dirtyFields,e),isTouched:!!y((r||a).touchedFields,e),error:y((r||a).errors,e)}),X=(e,r={})=>{for(const l of e?N(e):g.mount)g.mount.delete(l),g.array.delete(l),y(s,l)&&(r.keepValue||(pe(s,l),pe(u,l)),!r.keepError&&pe(a.errors,l),!r.keepDirty&&pe(a.dirtyFields,l),!r.keepTouched&&pe(a.touchedFields,l),!t.shouldUnregister&&!r.keepDefaultValue&&pe(o,l));A.watch.next({}),A.state.next({...a,...r.keepDirty?{isDirty:B()}:{}}),!r.keepIsValid&&C()},ee=(e,r={})=>{let a=y(s,e);const n=J(r.disabled);return I(s,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...r}}),g.mount.add(e),a?n&&I(u,e,r.disabled?void 0:y(u,e,Ne(a._f))):V(e,!0,r.value),{...n?{disabled:r.disabled}:{},...t.shouldUseNativeValidation?{required:!!r.required,min:xe(r.min),max:xe(r.max),minLength:xe(r.minLength),maxLength:xe(r.maxLength),pattern:xe(r.pattern)}:{},name:e,onChange:z,onBlur:z,ref:n=>{if(n){ee(e,r),a=y(s,e);const t=m(n.value)&&n.querySelectorAll&&n.querySelectorAll("input,select,textarea")[0]||n,i=(e=>Q(e)||l(e))(t),u=a._f.refs||[];if(i?u.find((e=>e===t)):t===a._f.ref)return;I(s,e,{_f:{...a._f,...i?{refs:[...u.filter(Ae),t,...Array.isArray(y(o,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),V(e,!1,void 0,t)}else a=y(s,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!c(g.array,e)||!v.action)&&g.unMount.add(e)}}},re=()=>t.shouldFocusError&&M(s,(e=>e&&y(a.errors,e)),g.mount);return{control:{register:ee,unregister:X,getFieldState:G,_executeSchema:j,_focusError:re,_getWatch:U,_getDirty:B,_updateValid:C,_removeUnmounted:()=>{for(const e of g.unMount){const r=y(s,e);r&&(r._f.refs?r._f.refs.every((e=>!Ae(e))):!Ae(r._f.ref))&&X(e)}g.unMount=new Set},_updateFieldArray:(e,r=[],t,l,n=!0,i=!0)=>{if(l&&t){if(v.action=!0,i&&Array.isArray(y(s,e))){const r=t(y(s,e),l.argA,l.argB);n&&I(s,e,r)}if(w.errors&&i&&Array.isArray(y(a.errors,e))){const r=t(y(a.errors,e),l.argA,l.argB);n&&I(a.errors,e,r),((e,r)=>{!f(y(e,r)).length&&pe(e,r)})(a.errors,e)}if(w.touchedFields&&i&&Array.isArray(y(a.touchedFields,e))){const r=t(y(a.touchedFields,e),l.argA,l.argB);n&&I(a.touchedFields,e,r)}w.dirtyFields&&(a.dirtyFields=Se(o,u)),A.state.next({isDirty:B(e,r),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else I(u,e,r)},_getFieldArray:r=>f(y(v.mount?u:o,r,e.shouldUnregister?y(o,r,[]):[])),_subjects:A,_proxyFormState:w,get _fields(){return s},get _formValues(){return u},get _stateFlags(){return v},set _stateFlags(e){v=e},get _defaultValues(){return o},get _names(){return g},set _names(e){g=e},get _formState(){return a},set _formState(e){a=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:K,register:ee,handleSubmit:(e,r)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let n=!0,i=ne(u);A.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:e,values:r}=await j();a.errors=e,i=r}else await R(s);S(a.errors)?(A.state.next({errors:{},isSubmitting:!0}),await e(i,l)):(r&&await r({...a.errors},l),re())}catch(e){throw n=!1,e}finally{a.isSubmitted=!0,A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:S(a.errors)&&n,submitCount:a.submitCount+1,errors:a.errors})}},watch:(e,r)=>O(e)?A.watch.subscribe({next:t=>e(U(void 0,r),t)}):U(e,r,!0),setValue:H,getValues:Y,reset:(r,t)=>((r,t={})=>{const l=r||o,n=ne(l),i=r&&!S(r)?n:o;if(t.keepDefaultValues||(o=l),!t.keepValues){if(t.keepDirtyValues)for(const e of g.mount)y(a.dirtyFields,e)?I(i,e,y(u,e)):H(e,y(i,e));else{if(le&&m(r))for(const e of g.mount){const r=y(s,e);if(r&&r._f){const e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(Fe(e)){const r=e.closest("form");if(r){r.reset();break}}}}s={}}u=e.shouldUnregister?t.keepDefaultValues?ne(o):{}:n,A.array.next({values:i}),A.watch.next({values:i})}g={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},v.mount=!w.isValid||!!t.keepIsValid,v.watch=!!e.shouldUnregister,A.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:t.keepDirty||t.keepDirtyValues?a.isDirty:!(!t.keepDefaultValues||be(r,o)),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:t.keepDirty||t.keepDirtyValues?a.dirtyFields:t.keepDefaultValues&&r?Se(o,r):{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(O(r)?r(u):r,t),resetField:(e,r={})=>{y(s,e)&&(m(r.defaultValue)?H(e,y(o,e)):(H(e,r.defaultValue),I(o,e,r.defaultValue)),r.keepTouched||pe(a.touchedFields,e),r.keepDirty||(pe(a.dirtyFields,e),a.isDirty=r.defaultValue?B(e,y(o,e)):B()),r.keepError||(pe(a.errors,e),w.isValid&&C()),A.state.next({...a}))},clearErrors:e=>{e?N(e).forEach((e=>pe(a.errors,e))):a.errors={},A.state.next({errors:a.errors})},unregister:X,setError:(e,r,t)=>{const l=(y(s,e,{_f:{}})._f||{}).ref;I(a.errors,e,{...r,ref:l}),A.state.next({name:e,errors:a.errors,isValid:!1}),t&&t.shouldFocus&&l&&l.focus&&l.focus()},setFocus:(e,r={})=>{const t=y(s,e),a=t&&t._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),r.shouldSelect&&e.select())}},getFieldState:G}}r.Controller=e=>e.render(j(e)),r.FormProvider=e=>{const{children:r,...t}=e;return s.default.createElement(w.Provider,{value:t},r)},r.appendErrors=R,r.get=y,r.set=I,r.useController=j,r.useFieldArray=function(e){const r=A(),{control:t=r.control,name:a,keyName:l="id",shouldUnregister:n}=e,[i,o]=s.default.useState(t._getFieldArray(a)),u=s.default.useRef(t._getFieldArray(a).map(q)),d=s.default.useRef(i),c=s.default.useRef(a),f=s.default.useRef(!1);c.current=a,d.current=i,t._names.array.add(a),e.rules&&t.register(a,e.rules),C({callback:s.default.useCallback((({values:e,name:r})=>{if(r===c.current||!r){const r=y(e,c.current);Array.isArray(r)&&(o(r),u.current=r.map(q))}}),[]),subject:t._subjects.array});const m=s.default.useCallback((e=>{f.current=!0,t._updateFieldArray(a,e)}),[t,a]);return s.default.useEffect((()=>{if(t._stateFlags.action=!1,W(a,t._names)&&t._subjects.state.next({}),f.current&&(!oe(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([a]).then((e=>{const r=y(e.errors,a),s=y(t._formState.errors,a);(s?!r&&s.type:r&&r.type)&&(r?I(t._formState.errors,a,r):pe(t._formState.errors,a),t._subjects.state.next({errors:t._formState.errors}))}));else{const e=y(t._fields,a);e&&e._f&&ae(e,y(t._formValues,a),t._options.criteriaMode===h,t._options.shouldUseNativeValidation,!0).then((e=>!S(e)&&t._subjects.state.next({errors:$(t._formState.errors,e,a)})))}t._subjects.watch.next({name:a,values:t._formValues}),t._names.focus&&M(t._fields,(e=>!!e&&e.startsWith(t._names.focus))),t._names.focus="",t._proxyFormState.isValid&&t._updateValid()}),[i,a,t]),s.default.useEffect((()=>(!y(t._formValues,a)&&t._updateFieldArray(a),()=>{(t._options.shouldUnregister||n)&&t.unregister(a)})),[a,t,l,n]),{swap:s.default.useCallback(((e,r)=>{const s=t._getFieldArray(a);me(s,e,r),me(u.current,e,r),m(s),o(s),t._updateFieldArray(a,s,me,{argA:e,argB:r},!1)}),[m,a,t]),move:s.default.useCallback(((e,r)=>{const s=t._getFieldArray(a);de(s,e,r),de(u.current,e,r),m(s),o(s),t._updateFieldArray(a,s,de,{argA:e,argB:r},!1)}),[m,a,t]),prepend:s.default.useCallback(((e,r)=>{const s=N(ne(e)),l=ce(t._getFieldArray(a),s);t._names.focus=P(a,0,r),u.current=ce(u.current,s.map(q)),m(l),o(l),t._updateFieldArray(a,l,ce,{argA:ie(e)})}),[m,a,t]),append:s.default.useCallback(((e,r)=>{const s=N(ne(e)),l=se(t._getFieldArray(a),s);t._names.focus=P(a,l.length-1,r),u.current=se(u.current,s.map(q)),m(l),o(l),t._updateFieldArray(a,l,se,{argA:ie(e)})}),[m,a,t]),remove:s.default.useCallback((e=>{const r=fe(t._getFieldArray(a),e);u.current=fe(u.current,e),m(r),o(r),t._updateFieldArray(a,r,fe,{argA:e})}),[m,a,t]),insert:s.default.useCallback(((e,r,s)=>{const l=N(ne(r)),n=ue(t._getFieldArray(a),e,l);t._names.focus=P(a,e,s),u.current=ue(u.current,e,l.map(q)),m(n),o(n),t._updateFieldArray(a,n,ue,{argA:e,argB:ie(r)})}),[m,a,t]),update:s.default.useCallback(((e,r)=>{const s=ne(r),l=ve(t._getFieldArray(a),e,s);u.current=[...l].map(((r,t)=>r&&t!==e?u.current[t]:q())),m(l),o([...l]),t._updateFieldArray(a,l,ve,{argA:e,argB:s},!0,!1)}),[m,a,t]),replace:s.default.useCallback((e=>{const r=N(ne(e));u.current=r.map(q),m([...r]),o([...r]),t._updateFieldArray(a,[...r],(e=>e),{},!0,!1)}),[m,a,t]),fields:s.default.useMemo((()=>i.map(((e,r)=>({...e,[l]:u.current[r]||q()})))),[i,l])}},r.useForm=function(e={}){const r=s.default.useRef(),[t,a]=s.default.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});r.current||(r.current={...ke(e),formState:t});const l=r.current.control;return l._options=e,C({subject:l._subjects.state,callback:s.default.useCallback((e=>{E(e,l._proxyFormState,!0)&&(l._formState={...l._formState,...e},a({...l._formState}))}),[l])}),s.default.useEffect((()=>{l._stateFlags.mount||(l._proxyFormState.isValid&&l._updateValid(),l._stateFlags.mount=!0),l._stateFlags.watch&&(l._stateFlags.watch=!1,l._subjects.state.next({})),l._removeUnmounted()})),s.default.useEffect((()=>{t.submitCount&&l._focusError()}),[l,t.submitCount]),r.current.formState=_(t,l),r.current},r.useFormContext=A,r.useFormState=V,r.useWatch=T}}]);