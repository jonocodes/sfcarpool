(self.webpackChunkweb=self.webpackChunkweb||[]).push([[186],{35310:function(e,t,r){"use strict";var a=r(27378),s=r(74857),n=function(e){var t;return a.createElement("div",{className:"rw-form-wrapper"},a.createElement(s.Form,{onSubmit:function(t){var r;e.onSave(t,null==e||null===(r=e.location)||void 0===r?void 0:r.id)},error:e.error},a.createElement(s.FormError,{error:e.error,wrapperClassName:"rw-form-error-wrapper",titleClassName:"rw-form-error-title",listClassName:"rw-form-error-list"}),a.createElement(s.Label,{name:"name",className:"rw-label",errorClassName:"rw-label rw-label-error"},"Name"),a.createElement(s.TextField,{name:"name",defaultValue:null===(t=e.location)||void 0===t?void 0:t.name,className:"rw-input",errorClassName:"rw-input rw-input-error",validation:{required:!0}}),a.createElement(s.FieldError,{name:"name",className:"rw-field-error"}),a.createElement("div",{className:"rw-button-group"},a.createElement(s.Submit,{disabled:e.loading,className:"rw-button rw-button-blue"},"Save"))))};t.Z=n;try{n.displayName="LocationForm",n.__docgenInfo={description:"",displayName:"LocationForm",props:{location:{defaultValue:null,description:"",name:"location",required:!1,type:{name:'{ __typename?: "Location"; id: number; name: string; }'}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(data: UpdateLocationInput, id?: number) => void"}},error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"RWGqlError"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Location/LocationForm/LocationForm.tsx#LocationForm"]={docgenInfo:n.__docgenInfo,name:"LocationForm",path:"src/components/Location/LocationForm/LocationForm.tsx#LocationForm"})}catch(e){}},14186:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a,s=r(27378),n=(r(95988),r(60740),r(27001)),l=r(56423),o=r(31786),i=r(81006),u=r(35310);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var c,f,m=(0,n.ZP)(a||(c=["\n  mutation CreateLocationMutation($input: CreateLocationInput!) {\n    createLocation(input: $input) {\n      id\n    }\n  }\n"],f||(f=c.slice(0)),a=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(f)}})))),y=function(){var e,t,r=(0,o.useMutation)(m,{onCompleted:function(){i.toast.success("Location created"),(0,l.navigate)(l.routes.locations())},onError:function(e){i.toast.error(e.message)}}),a=(t=2,function(e){if(Array.isArray(e))return e}(e=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,s,n,l,o=[],i=!0,u=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(a=n.call(r)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){u=!0,s=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=a[0],c=a[1],f=c.loading,y=c.error;return s.createElement("div",{className:"rw-segment"},s.createElement("header",{className:"rw-segment-header"},s.createElement("h2",{className:"rw-heading rw-heading-secondary"},"New Location")),s.createElement("div",{className:"rw-segment-main"},s.createElement(u.Z,{onSave:function(e){n({variables:{input:e}})},loading:f,error:y})))},p=function(){return s.createElement(y,null)}},58939:function(e,t,r){"use strict";var a=r(9131),s=r(4289).default;a(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(27378)),l=s(r(27085)),o=s(r(91496)),i=s(r(98108)),u=s(r(73749)),d=s(r(86506));t.default=e=>{var t;let{error:r,wrapperClassName:a,wrapperStyle:s,titleClassName:c,titleStyle:f,listClassName:m,listStyle:y,listItemClassName:p,listItemStyle:g}=e;if(!r)return null;let v=r.message;const h=[],F=!(null===(t=r.graphQLErrors)||void 0===t||!t[0]),b=!!r.networkError&&(0,l.default)(r.networkError).length>0;if(F){var A,_,S,w;v=null!==(A=r.graphQLErrors[0].message)&&void 0!==A?A:"Something went wrong","BAD_USER_INPUT"===(null===(_=r.graphQLErrors[0])||void 0===_||null===(S=_.extensions)||void 0===S?void 0:S.code)&&(v="Errors prevented this form from being saved");const e=null===(w=r.graphQLErrors[0].extensions)||void 0===w?void 0:w.properties,t=e&&e.messages;if(t)for(const e in t){var x;(0,o.default)(x=t[e]).call(x,(e=>{h.push(e)}))}}else if(b){var N;if(v=null!==(N=v)&&void 0!==N?N:"An error has occurred",Object.prototype.hasOwnProperty.call(r.networkError,"bodyText")){var V;const e=r.networkError;h.push((0,i.default)(V="".concat(e.name,": ")).call(V,e.bodyText))}else if(Object.prototype.hasOwnProperty.call(r.networkError,"result")){var C;null===(C=r.networkError.result.errors)||void 0===C||(0,o.default)(C).call(C,(e=>{var t,r;"string"==typeof e.message&&((0,u.default)(t=e.message).call(t,";")>=0?h.push(null===(r=e.message)||void 0===r?void 0:r.split(";")[1]):h.push(e.message))}))}}return v?n.default.createElement("div",{className:a,style:s},n.default.createElement("p",{className:c,style:f},v),h.length>0&&n.default.createElement("ul",{className:m,style:y},(0,d.default)(h).call(h,((e,t)=>n.default.createElement("li",{key:t,className:p,style:g},e))))):null}},74857:function(e,t,r){"use strict";var a,s=r(9131),n=r(91496),l=r(27085),o=r(31550).default,i=r(4289).default;s(t,"__esModule",{value:!0});var u={CheckboxField:!0,ButtonField:!0,ColorField:!0,DateField:!0,DatetimeLocalField:!0,EmailField:!0,FileField:!0,HiddenField:!0,ImageField:!0,MonthField:!0,NumberField:!0,PasswordField:!0,RadioField:!0,RangeField:!0,ResetField:!0,SearchField:!0,SubmitField:!0,TelField:!0,TextField:!0,TimeField:!0,UrlField:!0,WeekField:!0,Form:!0,ServerErrorsContext:!0,FieldError:!0,InputField:!0,Label:!0,TextAreaField:!0,SelectField:!0,Submit:!0,useErrorStyles:!0,useRegister:!0,FormError:!0};t.Form=t.FileField=t.FieldError=t.EmailField=t.DatetimeLocalField=t.DateField=t.ColorField=t.CheckboxField=t.ButtonField=void 0,s(t,"FormError",{enumerable:!0,get:function(){return g.default}}),t.useRegister=t.useErrorStyles=t.WeekField=t.UrlField=t.TimeField=t.TextField=t.TextAreaField=t.TelField=t.SubmitField=t.Submit=t.ServerErrorsContext=t.SelectField=t.SearchField=t.ResetField=t.RangeField=t.RadioField=t.PasswordField=t.NumberField=t.MonthField=t.Label=t.InputField=t.ImageField=t.HiddenField=void 0;var d=i(r(98108)),c=i(r(91496)),f=i(r(56666)),m=o(r(27378)),y=i(r(35131)),p=r(42192);n(a=l(p)).call(a,(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(u,e)||e in t&&t[e]===p[e]||s(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var g=i(r(58939));const v=e=>{let{name:t,errorClassName:r,errorStyle:a,className:s,style:n}=e;const{formState:{errors:l},setError:o}=(0,p.useFormContext)(),i=(0,m.useContext)(_)[t];return m.default.useEffect((()=>{i&&o(t,{type:"server",message:i})}),[i,t,o]),(t?(0,p.get)(l,t):void 0)&&(r&&(s=r),a&&(n=a)),{className:s,style:n}};t.useErrorStyles=v;const h=e=>""===e,F={valueAsDate:{emptyAsNull:e=>h(e)?null:new Date(e),emptyAsUndefined:e=>h(e)?void 0:new Date(e),emptyAsString:e=>h(e)?"":new Date(e),emptyAsZero:e=>h(e)?0:new Date(e)},valueAsJSON:{emptyAsNull:e=>{if(h(e))return null;try{return JSON.parse(e)}catch(e){return NaN}},emptyAsString:e=>{if(h(e))return"";try{return JSON.parse(e)}catch(e){return NaN}},emptyAsUndefined:e=>{if(!h(e))try{return JSON.parse(e)}catch(e){return NaN}},emptyAsZero:e=>{if(h(e))return 0;try{return JSON.parse(e)}catch(e){return NaN}}},valueAsNumber:{emptyAsNull:e=>h(e)?null:+e,emptyAsUndefined:e=>h(e)?void 0:+e,emptyAsNaN:e=>h(e)?NaN:+e,emptyAsString:e=>h(e)?"":+e,emptyAsZero:e=>h(e)?0:+e},valueAsString:{emptyAsNull:e=>h(e)?null:e,emptyAsUndefined:e=>h(e)?void 0:e,emptyAsString:e=>h(e)?"":e,emptyAsZero:e=>h(e)?0:e}},b=e=>"number"!=typeof e||!isNaN(e),A=(e,t,r)=>{const{register:a}=(0,p.useFormContext)(),s=e.validation||{required:!1};((e,t)=>{let r,{type:a,name:s,emptyAs:n}=t;e.setValueAs||e.valueAsBoolean||"checkbox"===a||(e.valueAsJSON?(e.validate=b,delete e.valueAsJSON,r="valueAsJSON"):r="date"===a||"datetime-local"===a||e.valueAsDate?"valueAsDate":"number"===a||e.valueAsNumber?"valueAsNumber":"valueAsString",e.setValueAs=((e,t,r,a)=>{const s=F[e];if(void 0===s)throw Error("Type ".concat(e," is unsupported."));let n;switch(t){case null:n=s.emptyAsNull;break;case"undefined":n=s.emptyAsUndefined;break;case 0:n=s.emptyAsZero;break;case"":n=s.emptyAsString;break;default:if(r||a)n=s.emptyAsNull;else switch(e){case"valueAsNumber":n=s.emptyAsNaN;break;case"valueAsDate":case"valueAsJSON":n=s.emptyAsNull;break;case"valueAsString":n=s.emptyAsString}}return void 0===n&&console.error("emptyAs prop of ".concat(t," is unsupported for this type.")),n})(r,n,void 0!==e.required&&!1!==e.required,/Id$/.test(s||"")))})(s,{type:e.type,name:e.name,emptyAs:r});const{ref:n,onBlur:l,onChange:o,...i}=a(e.name,s);return{...i,ref:e=>{n(e),"function"==typeof t?t(e):t&&(t.current=e)},onBlur:t=>{var r;l(t),null===(r=e.onBlur)||void 0===r||r.call(e,t)},onChange:t=>{var r;o(t),null===(r=e.onChange)||void 0===r||r.call(e,t)}}};t.useRegister=A;const _=m.default.createContext({});function S(e,t){var r,a,s,n;let{config:l,error:o,formMethods:i,onSubmit:u,children:d,...c}=e;const y=(0,p.useForm)(l),g=i||y;return m.default.createElement("form",(0,f.default)({ref:t},c,{onSubmit:g.handleSubmit(((e,t)=>null==u?void 0:u(e,t)))}),m.default.createElement(_.Provider,{value:(null==o||null===(r=o.graphQLErrors)||void 0===r||null===(a=r[0])||void 0===a||null===(s=a.extensions)||void 0===s||null===(n=s.properties)||void 0===n?void 0:n.messages)||{}},m.default.createElement(p.FormProvider,g,d)))}t.ServerErrorsContext=_;const w=(0,m.forwardRef)(S);t.Form=w,t.Label=e=>{let{name:t,children:r,errorClassName:a,errorStyle:s,className:n,style:l,...o}=e;const i=v({name:t,errorClassName:a,errorStyle:s,className:n,style:l});return m.default.createElement("label",(0,f.default)({htmlFor:t},o,i),r||t)};const x={required:"is required",pattern:"is not formatted correctly",minLength:"is too short",maxLength:"is too long",min:"is too low",max:"is too high",validate:"is not valid"};t.FieldError=e=>{var t;let{name:r,...a}=e;const{formState:{errors:s}}=(0,p.useFormContext)(),n=(0,p.get)(s,r),l=n&&(n.message||(0,d.default)(t="".concat(r," ")).call(t,x[n.type]));return n?m.default.createElement("span",a,l):null};const N=(0,m.forwardRef)(((e,t)=>{let{name:r,id:a,emptyAs:s,errorClassName:n,errorStyle:l,className:o,style:i,validation:u,onBlur:d,onChange:c,...y}=e;const p=v({name:r,errorClassName:n,errorStyle:l,className:o,style:i}),g=A({name:r,validation:u,onBlur:d,onChange:c},t,s);return m.default.createElement("textarea",(0,f.default)({id:a||r},y,p,g))}));t.TextAreaField=N;const V=(0,m.forwardRef)(((e,t)=>{let{name:r,id:a,emptyAs:s,errorClassName:n,errorStyle:l,className:o,style:i,validation:u,onBlur:d,onChange:c,...y}=e;const p=v({name:r,errorClassName:n,errorStyle:l,className:o,style:i}),g=A({name:r,validation:u,onBlur:d,onChange:c},t,s);return m.default.createElement("select",(0,f.default)({id:a||r},y,p,g))}));t.SelectField=V;const C=(0,m.forwardRef)(((e,t)=>{let{name:r,id:a,errorClassName:s,errorStyle:n,className:l,style:o,validation:i,onBlur:u,onChange:d,...c}=e;const y=v({name:r,errorClassName:s,errorStyle:n,className:l,style:o}),p="checkbox",g=A({name:r,validation:i,onBlur:u,onChange:d,type:p},t);return m.default.createElement("input",(0,f.default)({id:a||r},c,{type:p},y,g))}));t.CheckboxField=C;const E=(0,m.forwardRef)(((e,t)=>m.default.createElement("button",(0,f.default)({ref:t,type:"submit"},e))));t.Submit=E;const k=["button","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],D=(0,m.forwardRef)(((e,t)=>{let{name:r,id:a,emptyAs:s,errorClassName:n,errorStyle:l,className:o,style:i,validation:u,onBlur:d,onChange:c,type:y,...p}=e;const g=v({name:r,errorClassName:n,errorStyle:l,className:o,style:i}),h=A({name:r,validation:u,onBlur:d,onChange:c,type:y},t,s);return m.default.createElement("input",(0,f.default)({id:a||r},p,{type:y},g,h))}));t.InputField=D;const O={};(0,c.default)(k).call(k,(e=>{O["".concat((0,y.default)(e),"Field")]=(0,m.forwardRef)(((t,r)=>m.default.createElement(D,(0,f.default)({ref:r,type:e},t))))}));const{ButtonField:L,ColorField:T,DateField:j,DatetimeLocalField:R,EmailField:B,FileField:U,HiddenField:M,ImageField:I,MonthField:P,NumberField:q,PasswordField:W,RadioField:$,RangeField:J,ResetField:Z,SearchField:H,SubmitField:Q,TelField:z,TextField:K,TimeField:Y,UrlField:G,WeekField:X}=O;t.WeekField=X,t.UrlField=G,t.TimeField=Y,t.TextField=K,t.TelField=z,t.SubmitField=Q,t.SearchField=H,t.ResetField=Z,t.RangeField=J,t.RadioField=$,t.PasswordField=W,t.NumberField=q,t.MonthField=P,t.ImageField=I,t.HiddenField=M,t.FileField=U,t.EmailField=B,t.DatetimeLocalField=R,t.DateField=j,t.ColorField=T,t.ButtonField=L},81006:function(e,t,r){e.exports=r(73487)},35131:function(e){e.exports=e=>{if(null==e)return"";if("function"!=typeof e.toString)return"";let t=e.toString().trim();if(""===t)return"";if(1===t.length)return t.toLocaleUpperCase();let r=t.match(/[a-zA-Z0-9]+/g);return r?r.map((e=>(e=>e[0].toLocaleUpperCase()+e.slice(1))(e))).join(""):t}},42192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=(a=r(27378))&&"object"==typeof a&&"default"in a?a:{default:a},n=e=>"checkbox"===e.type,l=e=>e instanceof Date,o=e=>null==e;const i=e=>"object"==typeof e;var u=e=>!o(e)&&!Array.isArray(e)&&i(e)&&!l(e),d=e=>u(e)&&e.target?n(e.target)?e.target.checked:e.target.value:e,c=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),f=e=>Array.isArray(e)?e.filter(Boolean):[],m=e=>void 0===e,y=(e,t,r)=>{if(!t||!u(e))return r;const a=f(t.split(/[,[\].]+?/)).reduce(((e,t)=>o(e)?e:e[t]),e);return m(a)||a===e?m(e[t])?r:e[t]:a};const p="blur",g="onChange",v="onSubmit",h="all",F="pattern",b="required",A=s.default.createContext(null),_=()=>s.default.useContext(A);var S=(e,t,r,a=!0)=>{const s={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(s,n,{get:()=>{const s=n;return t._proxyFormState[s]!==h&&(t._proxyFormState[s]=!a||h),r&&(r[s]=!0),e[s]}});return s},w=e=>u(e)&&!Object.keys(e).length,x=(e,t,r)=>{const{name:a,...s}=e;return w(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||h)))},N=e=>Array.isArray(e)?e:[e],V=(e,t,r)=>r&&t?e===t:!e||!t||e===t||N(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function C(e){const t=s.default.useRef(e);t.current=e,s.default.useEffect((()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>{r&&r.unsubscribe()}}),[e.disabled])}function E(e){const t=_(),{control:r=t.control,disabled:a,name:n,exact:l}=e||{},[o,i]=s.default.useState(r._formState),u=s.default.useRef(!0),d=s.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=s.default.useRef(n);return c.current=n,C({disabled:a,callback:s.default.useCallback((e=>u.current&&V(c.current,e.name,l)&&x(e,d.current)&&i({...r._formState,...e})),[r,l]),subject:r._subjects.state}),s.default.useEffect((()=>(u.current=!0,()=>{u.current=!1})),[]),S(o,r,d.current,!1)}var k=e=>"string"==typeof e,D=(e,t,r,a)=>{const s=Array.isArray(e);return k(e)?(a&&t.watch.add(e),y(r,e)):s?e.map((e=>(a&&t.watch.add(e),y(r,e)))):(a&&(t.watchAll=!0),r)},O=e=>"function"==typeof e,L=e=>{for(const t in e)if(O(e[t]))return!0;return!1};function T(e){const t=_(),{control:r=t.control,name:a,defaultValue:n,disabled:l,exact:o}=e||{},i=s.default.useRef(a);i.current=a,C({disabled:l,subject:r._subjects.watch,callback:s.default.useCallback((e=>{if(V(i.current,e.name,o)){const t=D(i.current,r._names,e.values||r._formValues);c(m(i.current)||u(t)&&!L(t)?{...t}:Array.isArray(t)?[...t]:m(t)?n:t)}}),[r,o,n])});const[d,c]=s.default.useState(m(n)?r._getWatch(a):n);return s.default.useEffect((()=>r._removeUnmounted())),d}function j(e){const t=_(),{name:r,control:a=t.control,shouldUnregister:n}=e,l=c(a._names.array,r),o=T({control:a,name:r,defaultValue:y(a._formValues,r,y(a._defaultValues,r,e.defaultValue)),exact:!0}),i=E({control:a,name:r}),u=s.default.useRef(a.register(r,{...e.rules,value:o}));return s.default.useEffect((()=>{const e=(e,t)=>{const r=y(a._fields,e);r&&(r._f.mount=t)};return e(r,!0),()=>{const t=a._options.shouldUnregister||n;(l?t&&!a._stateFlags.action:t)?a.unregister(r):e(r,!1)}}),[r,a,l,n]),{field:{name:r,value:o,onChange:s.default.useCallback((e=>u.current.onChange({target:{value:d(e),name:r},type:"change"})),[r]),onBlur:s.default.useCallback((()=>u.current.onBlur({target:{value:y(a._formValues,r),name:r},type:p})),[r,a]),ref:e=>{const t=y(a._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:i,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(i.errors,r)},isDirty:{enumerable:!0,get:()=>!!y(i.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!y(i.touchedFields,r)},error:{enumerable:!0,get:()=>y(i.errors,r)}})}}var R=(e,t,r,a,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:s||!0}}:{},B=e=>/^\w*$/.test(e),U=e=>f(e.replace(/["|']|\]/g,"").split(/\.|\[/));function M(e,t,r){let a=-1;const s=B(t)?[t]:U(t),n=s.length,l=n-1;for(;++a<n;){const t=s[a];let n=r;if(a!==l){const r=e[t];n=u(r)||Array.isArray(r)?r:isNaN(+s[a+1])?{}:[]}e[t]=n,e=e[t]}return e}const I=(e,t,r)=>{for(const a of r||Object.keys(e)){const r=y(e,a);if(r){const{_f:e,...a}=r;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else u(a)&&I(a,t)}}};var P=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))},q=(e,t,r={})=>r.shouldFocus||m(r.shouldFocus)?r.focusName||`${e}.${m(r.focusIndex)?t:r.focusIndex}.`:"",W=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),$=(e,t,r)=>{const a=f(y(e,r));return M(a,"root",t[r]),M(e,r,a),e},J=e=>"boolean"==typeof e,Z=e=>"file"===e.type,H=e=>k(e)||s.default.isValidElement(e),Q=e=>"radio"===e.type,z=e=>e instanceof RegExp;const K={value:!1,isValid:!1},Y={value:!0,isValid:!0};var G=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||""===e[0].value?Y:{value:e[0].value,isValid:!0}:Y:K}return K};const X={isValid:!1,value:null};var ee=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),X):X;function te(e,t,r="validate"){if(H(e)||Array.isArray(e)&&e.every(H)||J(e)&&!e)return{type:r,message:H(e)?e:"",ref:t}}var re=e=>u(e)&&!z(e)?e:{value:e,message:""},ae=async(e,t,r,a,s)=>{const{ref:l,refs:i,required:d,maxLength:c,minLength:f,min:m,max:y,pattern:p,validate:g,name:v,valueAsNumber:h,mount:A,disabled:_}=e._f;if(!A||_)return{};const S=i?i[0]:l,x=e=>{a&&k(e)&&(S.setCustomValidity(e),S.reportValidity())},N={},V=Q(l),C=n(l),E=V||C,D=(h||Z(l))&&!l.value||""===t||Array.isArray(t)&&!t.length,L=R.bind(null,v,r,N),T=(e,t,r,a="maxLength",s="minLength")=>{const n=e?t:r;N[v]={type:e?a:s,message:n,ref:l,...L(e?a:s,n)}};if(s?!Array.isArray(t)||!t.length:d&&(!E&&(D||o(t))||J(t)&&!t||C&&!G(i).isValid||V&&!ee(i).isValid)){const{value:e,message:t}=H(d)?{value:!!d,message:d}:re(d);if(e&&(N[v]={type:b,message:t,ref:S,...L(b,t)},!r))return x(t),N}if(!(D||o(m)&&o(y))){let e,a;const s=re(y),n=re(m);if(o(t)||isNaN(t)){const r=l.valueAsDate||new Date(t),o=e=>new Date((new Date).toDateString()+" "+e),i="time"==l.type,u="week"==l.type;k(s.value)&&t&&(e=i?o(t)>o(s.value):u?t>s.value:r>new Date(s.value)),k(n.value)&&t&&(a=i?o(t)<o(n.value):u?t<n.value:r<new Date(n.value))}else{const r=l.valueAsNumber||(t?+t:t);o(s.value)||(e=r>s.value),o(n.value)||(a=r<n.value)}if((e||a)&&(T(!!e,s.message,n.message,"max","min"),!r))return x(N[v].message),N}if((c||f)&&!D&&(k(t)||s&&Array.isArray(t))){const e=re(c),a=re(f),s=!o(e.value)&&t.length>e.value,n=!o(a.value)&&t.length<a.value;if((s||n)&&(T(s,e.message,a.message),!r))return x(N[v].message),N}if(p&&!D&&k(t)){const{value:e,message:a}=re(p);if(z(e)&&!t.match(e)&&(N[v]={type:F,message:a,ref:l,...L(F,a)},!r))return x(a),N}if(g)if(O(g)){const e=te(await g(t),S);if(e&&(N[v]={...e,...L("validate",e.message)},!r))return x(e.message),N}else if(u(g)){let e={};for(const a in g){if(!w(e)&&!r)break;const s=te(await g[a](t),S,a);s&&(e={...s,...L(a,s.message)},x(s.message),r&&(N[v]=e))}if(!w(e)&&(N[v]={ref:S,...e},!r))return N}return x(!0),N};function se(e,t){return[...e,...N(t)]}var ne="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function le(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ne&&(e instanceof Blob||e instanceof FileList)||!r&&!u(e))return e;if(t=r?[]:{},Array.isArray(e)||(e=>{const t=e.constructor&&e.constructor.prototype;return u(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)t[r]=le(e[r]);else t=e}return t}var oe=e=>Array.isArray(e)?e.map((()=>{})):void 0,ie=e=>({isOnSubmit:!e||e===v,isOnBlur:"onBlur"===e,isOnChange:e===g,isOnAll:e===h,isOnTouch:"onTouched"===e});function ue(e,t,r){return[...e.slice(0,t),...N(r),...e.slice(t)]}var de=(e,t,r)=>Array.isArray(e)?(m(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function ce(e,t){return[...N(t),...N(e)]}var fe=(e,t)=>m(t)?[]:function(e,t){let r=0;const a=[...e];for(const e of t)a.splice(e-r,1),r++;return f(a).length?a:[]}(e,N(t).sort(((e,t)=>e-t))),me=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]};function ye(e){for(const t in e)if(!m(e[t]))return!1;return!0}function pe(e,t){const r=B(t)?[t]:U(t),a=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=m(e)?a++:e[t[a++]];return e}(e,r),s=r[r.length-1];let n;a&&delete a[s];for(let t=0;t<r.slice(0,-1).length;t++){let a,s=-1;const l=r.slice(0,-(t+1)),o=l.length-1;for(t>0&&(n=e);++s<l.length;){const t=l[s];a=a?a[t]:e[t],o===s&&(u(a)&&w(a)||Array.isArray(a)&&ye(a))&&(n?delete n[t]:delete e[t]),n=a}}return e}var ge=(e,t,r)=>(e[t]=r,e);function ve(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var he=e=>o(e)||!i(e);function Fe(e,t){if(he(e)||he(t))return e===t;if(l(e)&&l(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const s of r){const r=e[s];if(!a.includes(s))return!1;if("ref"!==s){const e=t[s];if(l(r)&&l(e)||u(r)&&u(e)||Array.isArray(r)&&Array.isArray(e)?!Fe(r,e):r!==e)return!1}}return!0}var be=e=>{const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ae=e=>"select-multiple"===e.type,_e=e=>be(e)&&e.isConnected;function Se(e,t={}){const r=Array.isArray(e);if(u(e)||r)for(const r in e)Array.isArray(e[r])||u(e[r])&&!L(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Se(e[r],t[r])):o(e[r])||(t[r]=!0);return t}var we=(e,t)=>function e(t,r,a){const s=Array.isArray(t);if(u(t)||s)for(const s in t)Array.isArray(t[s])||u(t[s])&&!L(t[s])?m(r)||he(a[s])?a[s]=Array.isArray(t[s])?Se(t[s],[]):{...Se(t[s])}:e(t[s],o(r)?{}:r[s],a[s]):Fe(t[s],r[s])?delete a[s]:a[s]=!0;return a}(e,t,Se(t)),xe=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>m(e)?e:t?""===e?NaN:e?+e:e:r&&k(e)?new Date(e):a?a(e):e;function Ne(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return Z(t)?t.files:Q(t)?ee(e.refs).value:Ae(t)?[...t.selectedOptions].map((({value:e})=>e)):n(t)?G(e.refs).value:xe(m(t.value)?e.ref.value:t.value,e)}var Ve=e=>m(e)?void 0:z(e)?e.source:u(e)?z(e.value)?e.value.source:e.value:e;function Ce(e,t,r){const a=y(e,r);if(a||B(r))return{error:a,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),n=y(t,a),l=y(e,a);if(n&&!Array.isArray(n)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:r}}const Ee={mode:v,reValidateMode:g,shouldFocusError:!0};function ke(e={}){let t,r={...Ee,...e},a={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},i=le(r.defaultValues)||{},u=r.shouldUnregister?{}:le(i),g={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},F=0,b={};const A={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={watch:ve(),array:ve(),state:ve()},S=ie(r.mode),x=ie(r.reValidateMode),V=r.criteriaMode===h,C=async()=>{let e=!1;return A.isValid&&(e=r.resolver?w((await j()).errors):await R(s,!0),e!==a.isValid&&(a.isValid=e,_.state.next({isValid:e}))),e},E=(e,t,r,a)=>{const n=y(s,e);if(n){const s=y(u,e,m(r)?y(i,e):r);m(s)||a&&a.defaultChecked||t?M(u,e,t?s:Ne(n._f)):P(e,s),g.mount&&C()}},L=(e,t,r,s,n)=>{let l=!1;const o={name:e},u=y(a.touchedFields,e);if(A.isDirty){const e=a.isDirty;a.isDirty=o.isDirty=B(),l=e!==o.isDirty}if(A.dirtyFields&&(!r||s)){const r=y(a.dirtyFields,e);Fe(y(i,e),t)?pe(a.dirtyFields,e):M(a.dirtyFields,e,!0),o.dirtyFields=a.dirtyFields,l=l||r!==y(a.dirtyFields,e)}return r&&!u&&(M(a.touchedFields,e,r),o.touchedFields=a.touchedFields,l=l||A.touchedFields&&u!==r),l&&n&&_.state.next(o),l?o:{}},T=(r,s,n,l)=>{const o=y(a.errors,r),i=A.isValid&&J(s)&&a.isValid!==s;var u;if(e.delayError&&n?(u=()=>((e,t)=>{M(a.errors,e,t),_.state.next({errors:a.errors})})(r,n),t=e=>{clearTimeout(F),F=window.setTimeout(u,e)},t(e.delayError)):(clearTimeout(F),t=null,n?M(a.errors,r,n):pe(a.errors,r)),(n?!Fe(o,n):o)||!w(l)||i){const e={...l,...i&&J(s)?{isValid:s}:{},errors:a.errors,name:r};a={...a,...e},_.state.next(e)}b[r]--,A.isValidating&&!Object.values(b).some((e=>e))&&(_.state.next({isValidating:!1}),b={})},j=async e=>r.resolver?await r.resolver({...u},r.context,((e,t,r,a)=>{const s={};for(const r of e){const e=y(t,r);e&&M(s,r,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:a}})(e||v.mount,s,r.criteriaMode,r.shouldUseNativeValidation)):{},R=async(e,t,s={valid:!0})=>{for(const n in e){const l=e[n];if(l){const{_f:e,...n}=l;if(e){const n=v.array.has(e.name),o=await ae(l,y(u,e.name),V,r.shouldUseNativeValidation,n);if(o[e.name]&&(s.valid=!1,t))break;!t&&(y(o,e.name)?n?$(a.errors,o,e.name):M(a.errors,e.name,o[e.name]):pe(a.errors,e.name))}n&&await R(n,t,s)}}return s.valid},B=(e,t)=>(e&&t&&M(u,e,t),!Fe(Y(),i)),U=(e,t,r)=>{const a={...g.mount?u:m(t)?i:k(e)?{[e]:t}:t};return D(e,v,a,r)},P=(e,t,r={})=>{const a=y(s,e);let l=t;if(a){const r=a._f;r&&(!r.disabled&&M(u,e,xe(t,r)),l=ne&&be(r.ref)&&o(t)?"":t,Ae(r.ref)?[...r.ref.options].forEach((e=>e.selected=l.includes(e.value))):r.refs?n(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(l)?!!l.find((t=>t===e.value)):l===e.value))):r.refs[0]&&(r.refs[0].checked=!!l):r.refs.forEach((e=>e.checked=e.value===l)):Z(r.ref)?r.ref.value="":(r.ref.value=l,r.ref.type||_.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&L(e,l,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&K(e)},q=(e,t,r)=>{for(const a in t){const n=t[a],o=`${e}.${a}`,i=y(s,o);!v.array.has(e)&&he(n)&&(!i||i._f)||l(n)?P(o,n,r):q(o,n,r)}},H=(e,t,r={})=>{const n=y(s,e),l=v.array.has(e),d=le(t);M(u,e,d),l?(_.array.next({name:e,values:u}),(A.isDirty||A.dirtyFields)&&r.shouldDirty&&(a.dirtyFields=we(i,u),_.state.next({name:e,dirtyFields:a.dirtyFields,isDirty:B(e,d)}))):!n||n._f||o(d)?P(e,d,r):q(e,d,r),W(e,v)&&_.state.next({}),_.watch.next({name:e})},z=async e=>{const n=e.target;let l=n.name;const o=y(s,l);if(o){let c,f;const m=n.type?Ne(o._f):d(e),g=e.type===p||"focusout"===e.type,h=!((i=o._f).mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate)||r.resolver||y(a.errors,l)||o._f.deps)||((e,t,r,a,s)=>!s.isOnAll&&(!r&&s.isOnTouch?!(t||e):(r?a.isOnBlur:s.isOnBlur)?!e:!(r?a.isOnChange:s.isOnChange)||e))(g,y(a.touchedFields,l),a.isSubmitted,x,S),F=W(l,v,g);M(u,l,m),g?(o._f.onBlur&&o._f.onBlur(e),t&&t(0)):o._f.onChange&&o._f.onChange(e);const N=L(l,m,g,!1),E=!w(N)||F;if(!g&&_.watch.next({name:l,type:e.type}),h)return A.isValid&&C(),E&&_.state.next({name:l,...F?{}:N});if(!g&&F&&_.state.next({}),b[l]=b[l]?b[l]+1:1,_.state.next({isValidating:!0}),r.resolver){const{errors:e}=await j([l]),t=Ce(a.errors,s,l),r=Ce(e,s,t.name||l);c=r.error,l=r.name,f=w(e)}else c=(await ae(o,y(u,l),V,r.shouldUseNativeValidation))[l],C();o._f.deps&&K(o._f.deps),T(l,f,c,N)}var i},K=async(e,t={})=>{let n,l;const o=N(e);if(_.state.next({isValidating:!0}),r.resolver){const t=await(async e=>{const{errors:t}=await j();if(e)for(const r of e){const e=y(t,r);e?M(a.errors,r,e):pe(a.errors,r)}else a.errors=t;return t})(m(e)?e:o);n=w(t),l=e?!o.some((e=>y(t,e))):n}else e?(l=(await Promise.all(o.map((async e=>{const t=y(s,e);return await R(t&&t._f?{[e]:t}:t)})))).every(Boolean),(l||a.isValid)&&C()):l=n=await R(s);return _.state.next({...!k(e)||A.isValid&&n!==a.isValid?{}:{name:e},...r.resolver||!e?{isValid:n}:{},errors:a.errors,isValidating:!1}),t.shouldFocus&&!l&&I(s,(e=>e&&y(a.errors,e)),e?o:v.mount),l},Y=e=>{const t={...i,...g.mount?u:{}};return m(e)?t:k(e)?y(t,e):e.map((e=>y(t,e)))},G=(e,t)=>({invalid:!!y((t||a).errors,e),isDirty:!!y((t||a).dirtyFields,e),isTouched:!!y((t||a).touchedFields,e),error:y((t||a).errors,e)}),X=(e,t={})=>{for(const n of e?N(e):v.mount)v.mount.delete(n),v.array.delete(n),y(s,n)&&(t.keepValue||(pe(s,n),pe(u,n)),!t.keepError&&pe(a.errors,n),!t.keepDirty&&pe(a.dirtyFields,n),!t.keepTouched&&pe(a.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&pe(i,n));_.watch.next({}),_.state.next({...a,...t.keepDirty?{isDirty:B()}:{}}),!t.keepIsValid&&C()},ee=(e,t={})=>{let a=y(s,e);const l=J(t.disabled);return M(s,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),v.mount.add(e),a?l&&M(u,e,t.disabled?void 0:y(u,e,Ne(a._f))):E(e,!0,t.value),{...l?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:Ve(t.min),max:Ve(t.max),minLength:Ve(t.minLength),maxLength:Ve(t.maxLength),pattern:Ve(t.pattern)}:{},name:e,onChange:z,onBlur:z,ref:l=>{if(l){ee(e,t),a=y(s,e);const r=m(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,o=(e=>Q(e)||n(e))(r),u=a._f.refs||[];if(o?u.find((e=>e===r)):r===a._f.ref)return;M(s,e,{_f:{...a._f,...o?{refs:[...u.filter(_e),r,...Array.isArray(y(i,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),E(e,!1,void 0,r)}else a=y(s,e,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!c(v.array,e)||!g.action)&&v.unMount.add(e)}}},te=()=>r.shouldFocusError&&I(s,(e=>e&&y(a.errors,e)),v.mount);return{control:{register:ee,unregister:X,getFieldState:G,_executeSchema:j,_focusError:te,_getWatch:U,_getDirty:B,_updateValid:C,_removeUnmounted:()=>{for(const e of v.unMount){const t=y(s,e);t&&(t._f.refs?t._f.refs.every((e=>!_e(e))):!_e(t._f.ref))&&X(e)}v.unMount=new Set},_updateFieldArray:(e,t=[],r,n,l=!0,o=!0)=>{if(n&&r){if(g.action=!0,o&&Array.isArray(y(s,e))){const t=r(y(s,e),n.argA,n.argB);l&&M(s,e,t)}if(A.errors&&o&&Array.isArray(y(a.errors,e))){const t=r(y(a.errors,e),n.argA,n.argB);l&&M(a.errors,e,t),((e,t)=>{!f(y(e,t)).length&&pe(e,t)})(a.errors,e)}if(A.touchedFields&&o&&Array.isArray(y(a.touchedFields,e))){const t=r(y(a.touchedFields,e),n.argA,n.argB);l&&M(a.touchedFields,e,t)}A.dirtyFields&&(a.dirtyFields=we(i,u)),_.state.next({isDirty:B(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else M(u,e,t)},_getFieldArray:t=>f(y(g.mount?u:i,t,e.shouldUnregister?y(i,t,[]):[])),_subjects:_,_proxyFormState:A,get _fields(){return s},get _formValues(){return u},get _stateFlags(){return g},set _stateFlags(e){g=e},get _defaultValues(){return i},get _names(){return v},set _names(e){v=e},get _formState(){return a},set _formState(e){a=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:K,register:ee,handleSubmit:(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let l=!0,o=le(u);_.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:e,values:t}=await j();a.errors=e,o=t}else await R(s);w(a.errors)?(_.state.next({errors:{},isSubmitting:!0}),await e(o,n)):(t&&await t({...a.errors},n),te())}catch(e){throw l=!1,e}finally{a.isSubmitted=!0,_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:w(a.errors)&&l,submitCount:a.submitCount+1,errors:a.errors})}},watch:(e,t)=>O(e)?_.watch.subscribe({next:r=>e(U(void 0,t),r)}):U(e,t,!0),setValue:H,getValues:Y,reset:(t,r)=>((t,r={})=>{const n=t||i,l=le(n),o=t&&!w(t)?l:i;if(r.keepDefaultValues||(i=n),!r.keepValues){if(r.keepDirtyValues)for(const e of v.mount)y(a.dirtyFields,e)?M(o,e,y(u,e)):H(e,y(o,e));else{if(ne&&m(t))for(const e of v.mount){const t=y(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(be(e)){const t=e.closest("form");if(t){t.reset();break}}}}s={}}u=e.shouldUnregister?r.keepDefaultValues?le(i):{}:l,_.array.next({values:o}),_.watch.next({values:o})}v={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},g.mount=!A.isValid||!!r.keepIsValid,g.watch=!!e.shouldUnregister,_.state.next({submitCount:r.keepSubmitCount?a.submitCount:0,isDirty:r.keepDirty||r.keepDirtyValues?a.isDirty:!(!r.keepDefaultValues||Fe(t,i)),isSubmitted:!!r.keepIsSubmitted&&a.isSubmitted,dirtyFields:r.keepDirty||r.keepDirtyValues?a.dirtyFields:r.keepDefaultValues&&t?we(i,t):{},touchedFields:r.keepTouched?a.touchedFields:{},errors:r.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(O(t)?t(u):t,r),resetField:(e,t={})=>{y(s,e)&&(m(t.defaultValue)?H(e,y(i,e)):(H(e,t.defaultValue),M(i,e,t.defaultValue)),t.keepTouched||pe(a.touchedFields,e),t.keepDirty||(pe(a.dirtyFields,e),a.isDirty=t.defaultValue?B(e,y(i,e)):B()),t.keepError||(pe(a.errors,e),A.isValid&&C()),_.state.next({...a}))},clearErrors:e=>{e?N(e).forEach((e=>pe(a.errors,e))):a.errors={},_.state.next({errors:a.errors})},unregister:X,setError:(e,t,r)=>{const n=(y(s,e,{_f:{}})._f||{}).ref;M(a.errors,e,{...t,ref:n}),_.state.next({name:e,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()},setFocus:(e,t={})=>{const r=y(s,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:G}}t.Controller=e=>e.render(j(e)),t.FormProvider=e=>{const{children:t,...r}=e;return s.default.createElement(A.Provider,{value:r},t)},t.appendErrors=R,t.get=y,t.set=M,t.useController=j,t.useFieldArray=function(e){const t=_(),{control:r=t.control,name:a,keyName:n="id",shouldUnregister:l}=e,[o,i]=s.default.useState(r._getFieldArray(a)),u=s.default.useRef(r._getFieldArray(a).map(P)),d=s.default.useRef(o),c=s.default.useRef(a),f=s.default.useRef(!1);c.current=a,d.current=o,r._names.array.add(a),e.rules&&r.register(a,e.rules),C({callback:s.default.useCallback((({values:e,name:t})=>{if(t===c.current||!t){const t=y(e,c.current);Array.isArray(t)&&(i(t),u.current=t.map(P))}}),[]),subject:r._subjects.array});const m=s.default.useCallback((e=>{f.current=!0,r._updateFieldArray(a,e)}),[r,a]);return s.default.useEffect((()=>{if(r._stateFlags.action=!1,W(a,r._names)&&r._subjects.state.next({}),f.current&&(!ie(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([a]).then((e=>{const t=y(e.errors,a),s=y(r._formState.errors,a);(s?!t&&s.type:t&&t.type)&&(t?M(r._formState.errors,a,t):pe(r._formState.errors,a),r._subjects.state.next({errors:r._formState.errors}))}));else{const e=y(r._fields,a);e&&e._f&&ae(e,y(r._formValues,a),r._options.criteriaMode===h,r._options.shouldUseNativeValidation,!0).then((e=>!w(e)&&r._subjects.state.next({errors:$(r._formState.errors,e,a)})))}r._subjects.watch.next({name:a,values:r._formValues}),r._names.focus&&I(r._fields,(e=>!!e&&e.startsWith(r._names.focus))),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()}),[o,a,r]),s.default.useEffect((()=>(!y(r._formValues,a)&&r._updateFieldArray(a),()=>{(r._options.shouldUnregister||l)&&r.unregister(a)})),[a,r,n,l]),{swap:s.default.useCallback(((e,t)=>{const s=r._getFieldArray(a);me(s,e,t),me(u.current,e,t),m(s),i(s),r._updateFieldArray(a,s,me,{argA:e,argB:t},!1)}),[m,a,r]),move:s.default.useCallback(((e,t)=>{const s=r._getFieldArray(a);de(s,e,t),de(u.current,e,t),m(s),i(s),r._updateFieldArray(a,s,de,{argA:e,argB:t},!1)}),[m,a,r]),prepend:s.default.useCallback(((e,t)=>{const s=N(le(e)),n=ce(r._getFieldArray(a),s);r._names.focus=q(a,0,t),u.current=ce(u.current,s.map(P)),m(n),i(n),r._updateFieldArray(a,n,ce,{argA:oe(e)})}),[m,a,r]),append:s.default.useCallback(((e,t)=>{const s=N(le(e)),n=se(r._getFieldArray(a),s);r._names.focus=q(a,n.length-1,t),u.current=se(u.current,s.map(P)),m(n),i(n),r._updateFieldArray(a,n,se,{argA:oe(e)})}),[m,a,r]),remove:s.default.useCallback((e=>{const t=fe(r._getFieldArray(a),e);u.current=fe(u.current,e),m(t),i(t),r._updateFieldArray(a,t,fe,{argA:e})}),[m,a,r]),insert:s.default.useCallback(((e,t,s)=>{const n=N(le(t)),l=ue(r._getFieldArray(a),e,n);r._names.focus=q(a,e,s),u.current=ue(u.current,e,n.map(P)),m(l),i(l),r._updateFieldArray(a,l,ue,{argA:e,argB:oe(t)})}),[m,a,r]),update:s.default.useCallback(((e,t)=>{const s=le(t),n=ge(r._getFieldArray(a),e,s);u.current=[...n].map(((t,r)=>t&&r!==e?u.current[r]:P())),m(n),i([...n]),r._updateFieldArray(a,n,ge,{argA:e,argB:s},!0,!1)}),[m,a,r]),replace:s.default.useCallback((e=>{const t=N(le(e));u.current=t.map(P),m([...t]),i([...t]),r._updateFieldArray(a,[...t],(e=>e),{},!0,!1)}),[m,a,r]),fields:s.default.useMemo((()=>o.map(((e,t)=>({...e,[n]:u.current[t]||P()})))),[o,n])}},t.useForm=function(e={}){const t=s.default.useRef(),[r,a]=s.default.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});t.current||(t.current={...ke(e),formState:r});const n=t.current.control;return n._options=e,C({subject:n._subjects.state,callback:s.default.useCallback((e=>{x(e,n._proxyFormState,!0)&&(n._formState={...n._formState,...e},a({...n._formState}))}),[n])}),s.default.useEffect((()=>{n._stateFlags.mount||(n._proxyFormState.isValid&&n._updateValid(),n._stateFlags.mount=!0),n._stateFlags.watch&&(n._stateFlags.watch=!1,n._subjects.state.next({})),n._removeUnmounted()})),s.default.useEffect((()=>{r.submitCount&&n._focusError()}),[n,r.submitCount]),t.current.formState=S(r,n),t.current},t.useFormContext=_,t.useFormState=E,t.useWatch=T}}]);